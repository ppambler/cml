### âœï¸ Tangxt â³ 2021-12-15 ğŸ·ï¸ uni-app

# 05-uniapp å¼€å‘ ImoocBlog

1ï¼‰å¼€ç¯‡

ç»è¿‡å‰é¢å››ä¸ªç« èŠ‚ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº† **å¾®ä¿¡å°ç¨‹åº** çš„å­¦ä¹ ã€‚é‚£ä¹ˆä»è¿™ä¸€ç« å¼€å§‹æˆ‘ä»¬å°±è¿›å…¥ `uniapp` çš„é¡¹ç›®å¼€å‘ä¹‹ä¸­ã€‚

æ•´ä¸ª `uniapp` é˜¶æ®µæˆ‘ä»¬ä¼šå®Œæˆä¸€ä¸ªæ­£å¼çš„é¡¹ç›® **æ…•è¯¾çƒ­æœ** ï¼Œä»¥è¿™ä¸ªé¡¹ç›®æ¥ä½œä¸º `uniapp` å­¦ä¹ é˜¶æ®µçš„çš„æœ€ç»ˆäº§å‡ºï¼ŒåŒæ—¶é€šè¿‡è¿™ä¸ªé¡¹ç›®æ¥è´¯ç©¿æ‰€æœ‰çš„ `uniapp` çŸ¥è¯†ç‚¹ï¼Œå¯ä»¥è®©å¤§å®¶åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ä¸è‡³äºé‚£ä¹ˆæ¯ç‡¥ã€‚

ç›®å‰æˆ‘ä»¬çš„é¡¹ç›®å·²ç»ä¸Šçº¿äº†ï¼š

1. å¾®ä¿¡å°ç¨‹åºï¼šå¾®ä¿¡ -> å‘ç° -> å°ç¨‹åº -> æœç´¢ã€Šæ…•è¯¾çƒ­æœã€‹
2. `H5` ï¼š`https://imooc.blog.lgdsunday.club/#/`

é‚£ä¹ˆç°åœ¨ï¼š

- htmlã€cssã€jsã€å¾®ä¿¡å°ç¨‹åºï¼Œç­‰åŸºç¡€çŸ¥è¯†
- æ¥å£æ–‡æ¡£ã€æœ€ç»ˆæ•ˆæœã€ç­‰å„ç§é¡¹ç›®éœ€æ±‚

å„ç§å‰ç½®æ¡ä»¶å·²ç»å…¨éƒ¨å‡†å¤‡å°±ç»ªï¼Œé¡¹ç›®å¼€å‘å³å¯å¼€å§‹ï¼

2ï¼‰uniapp éš¾å—ï¼Ÿ

1ã€å¼•è¨€

ã€Šæ…•è¯¾çƒ­æœã€‹åŸºäº `uniapp` è¿›è¡Œå¼€å‘ï¼Œå…³äº `uniapp` çš„ä¼˜ç‚¹ -> åœ¨ã€è¯¾ç¨‹å¯¼å­¦ã€‘é˜¶æ®µå·²ç»æè¿°è¿‡äº†ï¼Œå¦‚æœä½ å¿˜äº†ï¼Œé‚£ä¹ˆä½ å¯ä»¥å›è¿‡å¤´å»çœ‹ä¸€ä¸‹ã€‚

è¿™ä¸€å°èŠ‚æˆ‘ä»¬æ¥ç‚¹å®åœ¨çš„ï¼Œå…‰çŸ¥é“å®ƒå¥½ï¼Œä¸è¡Œã€‚å› ä¸ºä¸æ˜¯ä½ çš„ï¼Œå®ƒå†å¥½ï¼Œå¯¹ä½ è€Œè¨€ä¹Ÿæ˜¯æ²¡å•¥ç”¨çš„â€¦â€¦

é‚£ä¹ˆæ€ä¹ˆæ‰èƒ½å­¦ä¼šå®ƒå‘¢ï¼Ÿæˆ–è€…è¯´å®ƒéš¾å­¦å—ï¼Ÿè¿™æ‰æ˜¯è¿™ä¸€å°èŠ‚æˆ‘ä»¬éœ€è¦è¯´æ˜çš„å†…å®¹ã€‚

2ã€å†…å®¹

[ç‚¹å‡»è¿™é‡Œç›´æ¥è¿›å…¥ uniapp å®˜ç½‘](https://uniapp.dcloud.io/)

æƒ³è¦å­¦ä¹  `uniapp` é‚£ä¹ˆéœ€è¦æœ‰ä¸‰ä¸ªå‰ç½®æ¡ä»¶ï¼š

> å…·å¤‡äº†è¿™ 3 ä¸ªæ¡ä»¶ï¼Œå­¦ä¹  uni-app ï¼Œå¯¹ä½ è€Œè¨€å°±æ˜¯å°èœä¸€ç¢Ÿ

1. `html + css + js`ï¼š è¿™ä¸ªç›¸ä¿¡å¤§å®¶éƒ½æ²¡æœ‰é—®é¢˜
2. å¾®ä¿¡å°ç¨‹åºï¼šè¿™ä¸ªæˆ‘ä»¬å·²ç»åœ¨å‰é¢çš„ç« èŠ‚éå¸¸è¯¦ç»†çš„ä¸ºå¤§å®¶è®²è§£è¿‡äº† -> uni-app å€Ÿé‰´äº†å¾ˆå¤šå°ç¨‹åºçš„å†…å®¹
3. `vue`ï¼šå¯èƒ½æœ‰å¾ˆå¤šåŒå­¦ä¸€çœ‹è¿™ä¸ªï¼Œå¿ƒå°±å‡‰äº†ä¸€æˆªã€‚æˆ‘ä¸ä¼š `vue` å’‹åŠå•Šã€‚.. 
   æ²¡æœ‰å…³ç³»ï¼
   æˆ‘æ•¢æŠŠè¿™ä¸ªåˆ—å‡ºæ¥ï¼Œè‚¯å®šå°±å·²ç»ä¸ºå¤§å®¶æƒ³åˆ°äº†è¿™ä¹ˆä¸€ç‚¹ã€‚
   `vue` çš„ç†å¿µå’Œ **å¾®ä¿¡å°ç¨‹åº** çš„ç†å¿µæœ‰éå¸¸å¤šç›¸åŒçš„åœ°æ–¹ï¼Œåœ¨æˆ‘ä»¬åé¢è¿›è¡Œé¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¸€äº›ä¸ªåˆ«çš„è¯­æ³•æ—¶ï¼Œæˆ‘ä¼šä¸ºå¤§å®¶è¿›è¡Œä»‹ç»çš„ã€‚

æ€»ä¹‹ï¼Œå¯¹äºå¤§å®¶æ¥è¯´ï¼Œè¿™ä¸‰ä¸ªæ¡ä»¶ï¼Œå¦‚æœä½ å…¨éƒ¨å…·å¤‡ï¼Œé‚£è‡ªç„¶æ˜¯æœ€å¥½çš„ã€‚

å¦‚æœä½ åªå…·å¤‡å‰ä¸¤ä¸ªæ¡ä»¶ï¼Œä¹Ÿä¸è¦æ‹…å¿ƒï¼Œç”šè‡³å¯ä»¥è¯´æ˜¯æ›´åŠ å¹¸è¿ -> ä¸ºå•¥è¿™ä¹ˆè¯´ï¼Ÿ -> å› ä¸ºæ¥ä¸‹æ¥ä½ å°†ä¼šåœ¨å­¦ä¼š `uniapp` çš„åŒæ—¶ï¼Œä¹Ÿä¼šæŒæ¡ `vue` çš„æ ¸å¿ƒä½¿ç”¨ï¼

> å­¦ä¼š uni-app éš¾å—ï¼Ÿ -> uni-app çš„è¯­æ³•å¯ä»¥ç®€å•ç†è§£æˆã€Œvue è¯­æ³•ã€å’Œã€Œå°ç¨‹åºè¯­æ³•ã€çš„ç»“åˆä½“ -> è¿™æ˜¾ç„¶ä¸éš¾ï¼

3ï¼‰é…ç½® uniapp å¼€å‘ç¯å¢ƒ

ä¹‹å‰å¼€å‘å¾®ä¿¡å°ç¨‹åºä¹‹å‰ï¼Œéœ€è¦ï¼š

1. ç”³è¯·å°ç¨‹åºè´¦å·
2. ä¸‹è½½å¾®ä¿¡å°ç¨‹åºå¼€å‘å·¥å…·

åŒæ ·ï¼Œåœ¨è¿›è¡Œ uniapp å¼€å‘ä¹‹å‰ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦åšç±»ä¼¼è¿™æ ·çš„äº‹æƒ…ï¼Œä¹Ÿå°±æ˜¯éœ€è¦é…ç½®é¡¹ç›®çš„å¼€å‘ç¯å¢ƒ

uniapp é¡¹ç›®çš„å¼€å‘ç¯å¢ƒä¸»è¦æœ‰ä¸¤ç‚¹ï¼š

- ä¸‹è½½å¹¶å®‰è£…å¼€å‘è€…å·¥å…· HBuilder X
- å®‰è£… sass ä¾èµ– -> é¡¹ç›®éœ€è¦ç”¨åˆ° sass è¯­æ³•

1ã€ä¸‹è½½å¹¶å®‰è£…å¼€å‘å·¥å…·

1. `uniapp` åŒæ ·æä¾›äº†ä¸€ä¸ªä¸“é—¨çš„å¼€å‘å·¥å…· `HBuilder X` -> [HBuilderX ä¸‹è½½é¡µé¢](https://www.dcloud.io/hbuilderx.html)
2. ç‚¹å‡» `DOWNLOAD` 
3. é€‰æ‹© `App å¼€å‘ç‰ˆæœ¬`ï¼ˆå› ä¸ºæˆ‘ä»¬è¦å®ç°æ˜¯æ…•è¯¾çƒ­æœï¼‰ -> æ¨èä½¿ç”¨æ­£å¼ç‰ˆ
4. `Windows` ç‰ˆæœ¬ä¸‹è½½å®Œæˆä¹‹åä¼šå¾—åˆ°ä¸€ä¸ª `zip` çš„å‹ç¼©åŒ…æ–‡ä»¶ï¼Œè§£å‹å®Œæˆå³å¯ä½¿ç”¨ -> æ˜¯ä¸€ä¸ªä¾¿æºç‰ˆ
5. `MacOS` ç‰ˆæœ¬ä¸‹æ¥å®Œæˆä¼šå¾—åˆ°ä¸€ä¸ª `dmg` çš„å®‰è£…åŒ…ï¼Œç›´æ¥å®‰è£…å³å¯

2ã€å®‰è£… `sass` ä¾èµ–

å› ä¸ºæˆ‘ä»¬çš„é¡¹ç›®å¼€å‘ä¼šä½¿ç”¨ `sass`ï¼Œæ‰€ä»¥éœ€è¦ä¸º `HBuilder X` å®‰è£… `sass ç¼–è¯‘å™¨`ã€‚

1. æ‰“å¼€ `HBuilder X`
2. æ‰“å¼€æ’ä»¶åœ°å€ï¼š<https://ext.dcloud.net.cn/plugin?id=2046> -> è¦ç™»å½•è´¦å·ï¼Œæ²¡æœ‰è´¦å·ï¼Œé‚£å°±æ³¨å†Œ
   1. ç‚¹å‡»ã€ä½¿ç”¨ `HBuilderX` å¯¼å…¥æ’ä»¶ã€‘ -> ä¸€å®šè¦å»æ‰ä½ æµè§ˆå™¨çš„å¹¿å‘Šæ’ä»¶ï¼Œä¸ç„¶ï¼Œè¿™æ˜¯ä¸ä¼šå‡ºç°è¿™ä¸ªæŒ‰é’®çš„
   2. åœ¨å¼¹å‡ºæ¡†ä¸­ç‚¹å‡»ã€æ‰“å¼€ `HBuilderX`ã€‘
3. ç‚¹å‡»ã€æ˜¯ã€‘
4. æ­¤æ—¶ä¼šåœ¨ `HBuilderX` å³ä¸‹è§’ï¼Œæç¤ºä½ ã€æ­£åœ¨ä¸‹è½½ã€‘
5. ç­‰å¾…å®Œæˆå³å¯

![å®‰è£…æ’ä»¶](assets/img/2021-12-15-18-24-02.png)

4ï¼‰åˆ›å»º imooc-blog

æœ¬å°èŠ‚åšä¸¤ä»¶äº‹ï¼š

1. åˆ›å»ºé¡¹ç›® -> å¼€å‘å·¥å…·ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆç›®å½•ç»“æ„ï¼Œå°±åƒå¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·ä¸€æ ·
2. äº†è§£é¡¹ç›®åŸºæœ¬ç»„æˆç»“æ„

1ã€åˆ›å»º uni-app é¡¹ç›®

æ‰“å¼€ HBuilderX -> æ–‡ä»¶ -> æ–°å»º -> é¡¹ç›®ï¼š

![åˆ›å»ºé¡¹ç›®](assets/img/2021-12-15-18-57-35.png)

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-15-19-05-18.png)

2ã€é¡¹ç›®ç›®å½•ä»‹ç»

```html
â”œâ”€pages            // é¡µé¢å­˜æ”¾æ–‡ä»¶å¤¹ï¼Œç­‰åŒäº å¾®ä¿¡å°ç¨‹åºä¸­çš„ pages
â”‚  â””â”€index.vue     // é»˜è®¤ç”Ÿæˆçš„é¡µé¢
â”œâ”€static           // é™æ€èµ„æºå­˜æ”¾æ–‡ä»¶å¤¹
â””â”€uni_modules      // uni-app ç»„ä»¶ç›®å½•
â”‚  â””â”€uni-xxx       // uni-app æ‰€æä¾›çš„ä¸šåŠ¡ç»„ä»¶ï¼Œç­‰åŒäº å¾®ä¿¡å°ç¨‹åºä¸­çš„ç»„ä»¶
â”œâ”€App.vue          // åº”ç”¨é…ç½®æ–‡ä»¶ï¼Œç”¨æ¥é…ç½®å…¨å±€æ ·å¼ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç­‰ï¼Œç­‰åŒäº å¾®ä¿¡å°ç¨‹åºä¸­çš„ app.js
â””â”€main.js          // é¡¹ç›®å…¥å£æ–‡ä»¶ -> åˆå§‹åŒ– Vue
â”œâ”€mainfest.json    // é…ç½®åº”ç”¨åç§°ã€appidã€logoã€ç‰ˆæœ¬ç­‰æ‰“åŒ…ä¿¡æ¯ï¼Œ
â””â”€pages.json       // é…ç½®é¡µé¢è·¯å¾„ã€çª—å£æ ·å¼ã€tabBar ç­‰é¡µé¢ç±»ä¿¡æ¯ï¼Œç­‰åŒäº å¾®ä¿¡å°ç¨‹åºä¸­çš„ app.json
â””â”€uni.scss         // uni-app å†…ç½®çš„å¸¸ç”¨æ ·å¼å˜é‡
```

5ï¼‰è¿è¡Œé¡¹ç›®åˆ° å¾®ä¿¡å¼€å‘è€…å·¥å…·

**`uniapp` æ”¯æŒ 10 ä¸ªå¹³å°ï¼Œæˆ‘ä»¬ä»¥ å¾®ä¿¡å°ç¨‹åº å’Œ `h5` å¹³å°ä¸ºä¾‹å­ï¼Œè¿›è¡Œæ¼”ç¤ºã€‚**

> ä¸ºå•¥åªé€‚é…è¿™ä¸¤ä¸ªç«¯ï¼Ÿ -> å› ä¸ºå…¶å®ƒå¹³å°å¾ˆå°‘ä½¿ç”¨ï¼Œæ¯”å¦‚ 360 å°ç¨‹åº

1ã€è¿è¡Œåˆ° å¾®ä¿¡å°ç¨‹åº

1. é…ç½®ã€å¾®ä¿¡å¼€å‘å·¥å…·ã€‘è·¯å¾„ï¼šå·¥å…· -> è®¾ç½®
2. è®¾ç½®ã€å¾®ä¿¡å¼€å‘å·¥å…·è·¯å¾„ã€‘ï¼šè¿è¡Œé…ç½® -> å¾®ä¿¡å¼€å‘è€…å·¥å…·è·¯å¾„ -> è¾“å…¥å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„å®‰è£…è·¯å¾„ï¼Œå¦‚ã€Œ`D:/å¾®ä¿¡ web å¼€å‘è€…å·¥å…·`ã€
3. **åˆ‡è®°ï¼š** ä¸€å®šè¦åœ¨ `HBuilder X` ä¸­åŒå‡»æ‰“å¼€ä½ é¡¹ç›®ä¸­çš„æŸä¸€ä¸ªæ–‡ä»¶ï¼ˆæ¯”å¦‚ï¼š`App.vue`ï¼‰
4. è¿è¡Œåˆ°å¾®ä¿¡å°ç¨‹åºï¼šè¿è¡Œ -> è¿è¡Œåˆ°å°ç¨‹åºæ¨¡æ‹Ÿå™¨ -> å¾®ä¿¡å¼€å‘è€…å·¥å…·
5. åº•éƒ¨ä¼šæç¤ºç¼–è¯‘
6. ç¼–è¯‘æˆåŠŸï¼Œå¾®ä¿¡å°ç¨‹åºè‡ªåŠ¨å¯åŠ¨

ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š

![é—®é¢˜](assets/img/2021-12-15-20-03-13.png)

åœ¨å°ç¨‹åºå¼€å‘è€…å·¥å…·é‡Œè¾¹ï¼ŒæŠŠå®‰å…¨è®¾ç½®çš„æœåŠ¡ç«¯å£ç»™å¼€å¯äº†ï¼š

![å¼€å¯ç«¯å£](assets/img/2021-12-15-20-06-38.png)

> [ã€æŠ¥ Bugã€‘æ— æ³•æ‰“å¼€å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…· - DCloud é—®ç­”](https://ask.dcloud.net.cn/question/65922)

æ‰“å¼€ IDE æˆåŠŸï¼š

![IDE](assets/img/2021-12-15-20-08-05.png)

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-15-20-08-50.png)

2ã€è¿è¡Œåˆ°æµè§ˆå™¨

1. **åˆ‡è®°ï¼š** ä¸€å®šè¦åœ¨ `HBuilder X` ä¸­åŒå‡»æ‰“å¼€ä½ é¡¹ç›®ä¸­çš„æŸä¸€ä¸ªæ–‡ä»¶ï¼ˆæ¯”å¦‚ï¼š`App.vue`ï¼‰ -> ä¸ç„¶æµè§ˆå™¨æ˜¯ä¸è®¤è¯†çš„
2. æ— éœ€é…ç½®ï¼Œç›´æ¥è¿è¡Œï¼šè¿è¡Œ -> è¿è¡Œåˆ°æµè§ˆå™¨ -> Chrome
3. ç¼–è¯‘å®Œæˆï¼Œæµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ï¼Œè¿è¡ŒæˆåŠŸ

![è¿è¡Œåˆ°æµè§ˆå™¨](assets/img/2021-12-15-20-15-10.png)

> ä¸€èˆ¬åˆ‡æ¢åˆ°æ‰‹æœºè°ƒè¯•æ¨¡å¼

---

> åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œå¾®ä¿¡å°ç¨‹åºå æ®äº†ç»å¤§å¤šæ•°çš„ç”¨æˆ·ï¼Œè€Œ H5 ç«¯æ˜¯æˆ‘ä»¬ web å‰ç«¯å¸¸è§çš„ä¸€ç§å½¢å¼ï¼Œæ‰€ä»¥ï¼Œåœ¨ä»¥åçš„æ­£å¸¸å¼€å‘ä¹‹ä¸­ï¼Œæˆ‘ä»¬é¡¹ç›®å¤šä»¥å¾®ä¿¡å°ç¨‹åºå’Œ H5 ç«¯çš„é€‚é…ä¸ºä¸»

6ï¼‰ä½¿ç”¨ VSCode å¼€å‘ uniapp

è™½è¯´ `HBuilder X` å¼€å‘ä½“éªŒè¿˜ç®—ä¸é”™ï¼Œä½†æ˜¯æœ‰æ—¶å€™é‡‘çªé“¶çªä¸å¦‚è‡ªå·±çš„ç‹—çªï¼Œå½“æˆ‘ä»¬ä¹ æƒ¯äº† `VSCode` ä¹‹åï¼Œæœ‰æ—¶å€™ä¸å¤ªæ„¿æ„æ¢å¼€å‘å·¥å…·ã€‚

é‚£ä¹ˆæ€ä¹ˆä½¿ç”¨ `VSCode` æ¥å¼€å‘ `uniapp` å‘¢ï¼Ÿ å…¶å®æ˜¯æœ‰åŠæ³•çš„ã€‚

1. ä½¿ç”¨ `HBuilder X` è¿è¡Œé¡¹ç›®ï¼ˆè¿è¡Œæ–¹å¼ï¼Œå‚è€ƒä¸Šä¸€å°èŠ‚ï¼‰
2. ä½¿ç”¨ `VSCode` æ‰“å¼€é¡¹ç›®
3. åœ¨ `VSCode` ä¸­å®‰è£…æ’ä»¶ï¼š
   1. [uni-helper](https://marketplace.visualstudio.com/items?itemName=ModyQyW.vscode-uni-helper) - è®©å¼€å‘è€…åœ¨ VSCode ä¸­å¼€å‘ `uni-*` çš„ä½“éªŒå°½å¯èƒ½å¥½ã€‚
   2. [uni-app-snippets](https://marketplace.visualstudio.com/items?itemName=ModyQyW.vscode-uni-app-snippets) - æ”¯æŒ uni-app åŸºæœ¬èƒ½åŠ›çš„ä»£ç ç‰‡æ®µï¼ŒåŒ…æ‹¬ç»„ä»¶å’Œ API
   3. [uni-app-schemas](https://marketplace.visualstudio.com/items?itemName=ModyQyW.vscode-uni-app-schemas) - æ”¯æŒ uni-app `pages.json` å’Œ `manifest.json` ç®€å•çš„æ ¼å¼æ ¡éªŒ
   4. [uni-ui-snippets](https://marketplace.visualstudio.com/items?itemName=ModyQyW.vscode-uni-ui-snippets) - æ”¯æŒ uni-ui ç»„ä»¶ä»£ç ç‰‡æ®µ
4. åœ¨ `VSCode` ä¸­ä¿®æ”¹ä»£ç ï¼Œè¿è¡Œç»“æœè‡ªåŠ¨å‘ç”Ÿå˜åŒ–

> è®© `HBuilder X` ä½œä¸ºä¸­ä»‹ï¼Œæˆ‘ä»¬åœ¨ VSCode ä¸­å†™ä»£ç  -> ä¸ºäº†æé«˜è‡ªå·±çš„å¼€å‘ä½“éªŒï¼ˆæ¯”å¦‚ API æç¤ºç­‰ï¼‰ï¼Œå¯ä»¥å®‰è£…æ’ä»¶ -> å®‰è£…ä¸€ä¸ª`uni-helper`æ’ä»¶ï¼Œå…¶å®ƒä¸‰ä¸ªæ’ä»¶è‡ªåŠ¨å®‰è£…

ğŸ’¡ï¼šuniapp çš„ uni_modules ç›®å½•éœ€è¦æäº¤åˆ° Git å—ï¼Ÿ

éœ€è¦æäº¤ï¼

7ï¼‰åˆ›å»ºä¸é…ç½® tabBar

ç›®å‰ï¼Œé¡¹ç›®çš„è¿è¡Œä»¥åŠå¼€å‘ç¯å¢ƒéƒ½æå®šäº†ï¼Œå°±ä¸‹æ¥æˆ‘ä»¬è¦åšçš„å°±æ˜¯å¼€å‘è¿™ä¸ªé¡¹ç›®ï¼

> å…ˆæå®šè¿™ä¸ªé¡¹ç›®çš„ç»“æ„ -> ä¹Ÿå°±æ˜¯ tabBar åˆ‡æ¢ -> uniapp æ¨¡ä»¿å¾®ä¿¡å°ç¨‹åºï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºå§¿åŠ¿ï¼Œè·Ÿå¾®ä¿¡å°ç¨‹åºä¸€æ ·

1ã€åˆ›å»ºé¡µé¢

> æŠŠé»˜è®¤çš„é¡µé¢åˆ äº†ï¼Œç”±äºå®‰è£…äº†æ’ä»¶ï¼ŒVSCode ä¹Ÿå¯ä»¥å³é”®ç›®å½•ååˆ›å»ºé¡µé¢ -> ä½†å»ºè®®è¿˜æ˜¯ç”¨ HBuilder åˆ›å»ºé¡µé¢

1. åˆ é™¤ `pages` ä¸‹çš„ `index` æ–‡ä»¶å¤¹
2. åœ¨ `pages` æ–‡ä»¶å¤¹å¤„ï¼Œå³é”® -> é€‰æ‹©æ–°å»ºé¡µé¢
3. ç¡®è®¤æ–°å»ºé¡µé¢çš„ä¿¡æ¯
4. ç‚¹å‡»åˆ›å»ºæŒ‰é’®å®Œæˆæ–°å»º
5. å¾ªç¯ä»¥ä¸Šé¡ºåºï¼Œä¾æ¬¡å®Œæˆ `hot`ã€`hot-video`ã€`my` ä¸‰ä¸ªé¡µé¢çš„åˆ›å»º

![æ–°å»ºé¡µé¢](assets/img/2021-12-16-17-16-20.png)

æ•ˆæœï¼š

![åˆ›å»ºé¡µé¢](assets/img/2021-12-16-17-17-49.png)

2ã€é…ç½® `pages.json`

1. åˆ é™¤ `index` è·¯å¾„
2. æ–°å»º `tabBar` èŠ‚ç‚¹
3. å¤åˆ¶ **èµ„æº** æ–‡ä»¶å¤¹ä¸‹ `tab-icons` æ–‡ä»¶å¤¹åˆ° `static` æ–‡ä»¶å¤¹ä¸­ -> åˆ æ‰åŸå…ˆå­˜åœ¨çš„å›¾ç‰‡
4. ç¼–å†™`tabBar`ä»£ç 
5. å¦‚æœä¿®æ”¹å®Œæˆä¹‹åï¼Œä¾ç„¶å¾—åˆ°äº†ä»¥ä¸‹é”™è¯¯ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ `HBuilder X` ä¸­é‡æ–°è¿è¡Œé¡¹ç›®åˆ°å¾®ä¿¡å¼€å‘è€…å·¥å…·è§£å†³ -> è¿™æ˜¯å°ç¨‹åºå¼€å‘è€…å·¥å…·çš„ bugï¼ˆæ— æ³•æ›´æ–°å·²ç»åˆ é™¤äº†æ–‡ä»¶è¿™ç§æƒ…å†µï¼Œä¼¼ä¹æœ‰ç¼“å­˜å•Šï¼‰ -> é‡æ–°è¿è¡Œé¡¹ç›®å°±å¯ä»¥è§£å†³è¿™ä¸ª bug äº†
   
   ![bug](assets/img/2021-12-16-17-32-24.png)
   

å®Œæ•´`tabBar`ä»£ç ï¼š

![ä»£ç ](assets/img/2021-12-16-17-34-05.png)

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-16-17-34-45.png)

8ï¼‰è­¦å‘Šä¸é”™è¯¯å¤„ç†

1ã€è§£å†³ ã€sitemap ç´¢å¼•æƒ…å†µæç¤ºã€‘çš„è­¦å‘Šé—®é¢˜

![è­¦å‘Šé—®é¢˜](assets/img/2021-12-16-17-38-03.png)

å¾®ä¿¡å°ç¨‹åºé»˜è®¤å¼€å¯äº†ç´¢å¼•åŠŸèƒ½ï¼Œä½†æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰é…ç½®ç´¢å¼•ç­–ç•¥ï¼Œå¯¼è‡´å‡ºç°äº†è¿™ä¹ˆä¸€ä¸ªè­¦å‘Šçš„é—®é¢˜ã€‚å…·ä½“æƒ…å†µå¯ä»¥å‚è€ƒï¼š<https://developers.weixin.qq.com/miniprogram/dev/framework/sitemap.html>

è€Œå¦‚æœæƒ³è¦è§£å†³è¿™ä¸ªè­¦å‘Šä¹Ÿéå¸¸ç®€å•ï¼Œå› ä¸ºä¸€èˆ¬æƒ…å†µé¡¹ç›®ä¸éœ€è¦è¢«å¾®ä¿¡ç´¢å¼•ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ **å…³é—­** é»˜è®¤ç´¢å¼•åŠŸèƒ½å³å¯ï¼

![ç´¢å¼•é—®é¢˜](assets/img/2021-12-16-17-44-34.png)

> åŒå‡»æ‰“å¼€ `manifest.json` -> ç‚¹å‡»æºç è§†å›¾ -> ä¸‹ç¿»æ‰¾åˆ° `mp-weixin` é…ç½®èŠ‚ç‚¹ -> åœ¨ `settings` ä¸‹æ–°å¢ `"checkSiteMap" : false`

2ã€è§£å†³ ` Cannot read property 'forceUpdate' of undefined` çš„é”™è¯¯

![forceUpdate](assets/img/2021-12-16-17-46-20.png)

è¿™ä¸ªé”™è¯¯çš„åŸå› éå¸¸ç®€å• -> å› ä¸ºæˆ‘ä»¬æ²¡æœ‰ä¸ºé¡¹ç›®é…ç½® `AppID` çš„åŸå› ï¼Œæ‰€ä»¥åªéœ€è¦å®Œæˆ `AppID` é…ç½®å³å¯ã€‚ -> æˆ‘ä»¬è¯´è¿‡å¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºé¡¹ç›®ï¼Œé¦–å…ˆå¾—æœ‰å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œå…¶æ¬¡å¾—æœ‰`AppId`

![AppID](assets/img/2021-12-16-17-54-37.png)

---

é”™è¯¯å¤„ç†å®Œæˆåï¼Œå°±å¯ä»¥è¿›å…¥åˆ°æˆ‘ä»¬çš„é¡µé¢å¼€å‘äº†ï¼

9ï¼‰çƒ­æœé¡µé¢åˆ†æ

æ•´ä¸ªé¡¹ç›®åˆ†ä¸ºä¸‰å¤§æ¨¡å—ï¼Œæˆ‘ä»¬é¦–å…ˆå»å¼€å‘ç¬¬ä¸€ä¸ªæ¨¡å—â€”â€”çƒ­æœæ¨¡å—

æˆ‘ä»¬ä¼šæŠŠã€Œçƒ­æœæ¨¡å—ã€åˆ†æˆå››éƒ¨åˆ†å»è¿›è¡Œå¼€å‘ï¼š

![çƒ­æœé¡µé¢](assets/img/2021-12-16-18-14-23.png)

10ï¼‰è®¤è¯† `.vue` æ–‡ä»¶ç»“æ„ä¸ logo å›¾ç‰‡å±•ç¤º

1ã€`.vue` æ–‡ä»¶ç»“æ„

![æ–‡ä»¶ç»“æ„](assets/img/2021-12-16-18-23-27.png)

1. `template`ï¼šå®šä¹‰å½“å‰é¡µé¢çš„ç»“æ„ã€‚ç›¸å½“äº `wxml` 
2. `script`ï¼šå®šä¹‰å½“å‰é¡µé¢çš„é€»è¾‘ã€‚ç›¸å½“äº `js`
3. `style`ï¼šå®šä¹‰å½“å‰é¡µé¢çš„æ ·å¼ã€‚ç›¸å½“äº `wxss`
   1. ä¸º `style` æ ‡ç­¾å¢åŠ  `scoped` å±æ€§ï¼šè¡¨ç¤ºå½“å‰æ ·å¼åªåœ¨å½“å‰é¡µé¢ç”Ÿæ•ˆ

2ã€logo å›¾ç‰‡å±•ç¤º

æ³¨æ„ç‚¹ï¼š

- è·¯å¾„ä»¥`@`å¼€å¤´ -> `@`è¡¨ç¤ºé¡¹ç›®çš„æ ¹è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯ä»é¡¹ç›®çš„æ ¹è·¯å¾„å¼€å§‹æ‰¾æ–‡ä»¶ -> `src="@/static/images/logo.png"`
- å¯ä»¥ç”¨å…¨å±€æ ·å¼å˜é‡ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨äº†`scss` -> æ— é¡»å¯¼å…¥è¿™ä¸ª`uni.scss` -> uniapp å¸®æˆ‘ä»¬è‡ªåŠ¨å¼•å…¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›å…¨å±€æ ·å¼å˜é‡
- logo å›¾ç‰‡ -> ä¸è¦æ‹‰ä¼¸ -> `mode="aspectFit"`

ä»£ç ï¼š

![ä»£ç ](assets/img/2021-12-16-19-00-26.png)

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-16-19-01-06.png)

ğŸ‘‡ï¼šlogo å¤„ç†å®Œæˆï¼Œå¤„ç†æœç´¢æ¡†

11ï¼‰ åˆ›å»ºæœç´¢æ¡†ç»„ä»¶

- åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶çš„æ–¹å¼è·Ÿåœ¨å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·é‡Œè¾¹æ‰€åˆ›å»ºçš„å§¿åŠ¿æ˜¯ä¸€æ¨¡ä¸€æ ·çš„
- ç»„ä»¶çš„ç»“æ„å’Œé¡µé¢çš„ç»“æ„æ˜¯ä¸€æ ·çš„ -> éƒ½æ˜¯`.vue`æ–‡ä»¶ï¼Œé‡Œè¾¹åˆ†ä¸ºä¸‰å—
- ç»„ä»¶å®šä¹‰å¥½åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€æ³¨å†Œ -> å¾®ä¿¡å°ç¨‹åºéœ€è¦åœ¨é¡µé¢é…ç½®é‡Œè¾¹æ³¨å†Œï¼Œè€Œ uni-app åˆ™ä¸éœ€è¦

åšæ³•ï¼š

1. åˆ›å»º `components` æ–‡ä»¶å¤¹
2. å³é”®`components`æ–‡ä»¶å¤¹ -> æ–°å»ºç»„ä»¶
   
   ![åˆ›å»ºç»„ä»¶](assets/img/2021-12-16-19-17-56.png)
   
3. æ˜ç¡®å½“å‰ `my-search` ç»„ä»¶çš„èƒ½åŠ›ï¼ˆæš‚æ—¶ä¸éœ€è¦è€ƒè™‘å¤ªå¤šä¹‹åçš„èƒ½åŠ›ï¼‰
   1. å…·å¤‡è¾“å…¥æ¡†çš„æ ·å¼
   2. ä¸å¯è¿›è¡Œè¾“å…¥ ->  æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‰é’®ï¼Œåªæ˜¯çœ‹èµ·æ¥åƒè¾“å…¥æ¡†ç½¢äº†
   3. `placeholder` å†…å®¹å¯ä»¥åœ¨çˆ¶ç»„ä»¶å®šä¹‰ -> ä¸æ˜¯åœ¨ç»„ä»¶å†…å†™æ­»çš„
4. ä»£ç å®ç°
   1. ç¬¬ä¸€ç‚¹å’Œç¬¬äºŒç‚¹çš„èƒ½åŠ› -> ç”¨ CSS å³å¯å®ç°
   2. ç¬¬ä¸‰ç‚¹èƒ½åŠ› -> çˆ¶å‘å­ä¼ å€¼ -> ä½¿ç”¨`props` -> å°ç¨‹åºæ˜¯ç”¨`properties`

ä»£ç ï¼š[åˆ›å»ºæœç´¢æ¡†ç»„ä»¶ Â· ppambler/imooc-uni-app@651bcb6](https://github.com/ppambler/imooc-uni-app/commit/651bcb6)

ç›®å‰è¿™ä¸ª`my-search`ç»„ä»¶çš„åŠŸèƒ½æ˜¯éå¸¸éå¸¸ç®€å•çš„ï¼Œåè¾¹ä¼šèµ‹äºˆ`my-search`æ›´å¤šçš„ä¸€äº›èƒ½åŠ›ï¼Œè¿™æ ·å®ƒå°±ä¼šå˜å¾—éå¸¸éå¸¸çš„å¤æ‚äº†

æ¯”å¦‚ï¼š

![my-search ç»„ä»¶](assets/img/2021-12-16-19-40-35.png)

12ï¼‰tabs ç»„ä»¶ - åˆ›å»ºå¹¶åˆ†æ `my-tabs` ç»„ä»¶

1. åˆ›å»º `my-tabs` ç»„ä»¶
2. åˆ†æ `my-tabs` ç»„ä»¶çš„èƒ½åŠ› -> å¸Œæœ›åˆ›å»ºä¸€ä¸ªé€šç”¨çš„ `my-tabs` ç»„ä»¶ï¼Œå¯ä»¥æ»¡è¶³å„ä¸ªåº”ç”¨ä¸­çš„éœ€æ±‚ -> æ—¢ç„¶æ˜¯é€šç”¨çš„ï¼Œå†…å®¹å°±ä¸èƒ½å†™æ­»äº†
   1. å¯åœ¨çˆ¶ç»„ä»¶ä¸­å®šåˆ¶ `my-tabs` æ ·å¼ -> æ¯”å¦‚ä¸‹åˆ’çº¿é¢œè‰²
   2. å¯åœ¨çˆ¶ç»„ä»¶ä¸­è®¾ç½®å±•ç¤ºæ•°æ® -> æ¯ä¸ª `tab` çš„å†…å®¹æ˜¯å•¥
   3. å¯åœ¨çˆ¶ç»„ä»¶ä¸­è®¾ç½®é»˜è®¤çš„æ¿€æ´»é¡¹ï¼ˆé€‰ä¸­é¡¹ï¼‰ -> é€‰ä¸­é«˜äº®ç­‰
   4. ç”±æ­¤åˆ†æï¼Œå®šä¹‰å‡ºä»¥ä¸‹ä»£ç ï¼š
   5. [Demo](https://github.com/ppambler/imooc-uni-app/commit/78017c6d0d9735b9f3657e2edc5e9445706b3306)

> å•¥å«é€šç”¨çš„ç»„ä»¶ï¼Ÿ -> è¿™ä¸ªé¡¹ç›®é‡Œè¾¹èƒ½ç”¨ï¼Œå…¶å®ƒé¡¹ç›®é‡Œè¾¹å¯¼å…¥è¯¥ç»„ä»¶ä¹Ÿèƒ½ç”¨å®ƒ -> è¯´ç™½äº†å°±æ˜¯ã€Œè½®å­ã€å‘—ï¼ -> æ—¢ç„¶æƒ³è¦æŠŠ`my-tabs`å¼€å‘æˆä¸€ä¸ªè½®å­ -> é‚£ä¹ˆ`my-tabs`çš„å¤æ‚ç«¯å°†è¿œè¿œè¶…è¿‡æˆ‘ä»¬ä¹‹å‰æ‰€å¼€å‘çš„`my-search`ç»„ä»¶ -> ä½ å¯ä»¥è®¤ä¸º`my-tabs`æ˜¯æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®ä¸­ç¬¬ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„è‡ªå®šä¹‰ç»„ä»¶

è‡³æ­¤ï¼Œæˆ‘ä»¬æŒ‡å®šäº†ä¸‰ä¸ªå¯å®šåˆ¶çš„å†…å®¹

æœ¬å°èŠ‚æˆ‘ä»¬åˆ›å»ºäº†`my-tabs`ç»„ä»¶ -> åˆ†æäº†`my-tabs`ç»„ä»¶ä¸­æ‰€å…·å¤‡çš„èƒ½åŠ›

ğŸ‘‡ï¼š`my-tabs`ç»„ä»¶ä¸­çš„å†…å®¹å¼€å‘

13ï¼‰tabs ç»„ä»¶ - å°è£…ç½‘ç»œè¯·æ±‚

è¦ä½¿ç”¨`my-tabs`ï¼Œå°±éœ€è¦æŠŠ`tabs`çš„æ•°æ®ç»™å±•ç¤ºå‡ºæ¥ -> æƒ³è¦å±•ç¤º`tabs`æ•°æ®ï¼Œå°±å¾—è°ƒç”¨å°è£…çš„æ¥å£æ¥è·å–æ•°æ® -> æ¥å£æ–‡æ¡£ï¼š`çƒ­æœ -> çƒ­æœæ–‡ç« ç±»å‹`

å‘è¯·æ±‚åœ¨å¾®ä¿¡å°ç¨‹åºé‡Œè¾¹æ˜¯`wx.request`ï¼Œé‚£åœ¨ uni-app é‡Œè¾¹å‘¢ï¼Ÿ -> `uni.request`

1. åˆ›å»º `utils` æ–‡ä»¶å¤¹
2. åˆ›å»º `request.js` ï¼Œå°è£…è¯·æ±‚å¯¹è±¡
3. åˆ›å»º `api` æ–‡ä»¶å¤¹ -> æ”¾ç½®æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚çš„ç›¸å…³æ–¹æ³•
4. åˆ›å»º `hot.js` æ–‡ä»¶ï¼Œå°è£… `hot` ç›¸å…³çš„è¯·æ±‚æ–¹æ³•ï¼š`getHotTabs`
5. åœ¨`hot.vue`é‡Œè¾¹ä½¿ç”¨`getHotTabs` -> åœ¨`loadHotTabs`æ–¹æ³•é‡Œè¾¹å‘èµ·è¯·æ±‚
   1. åœ¨å“ªé‡Œè°ƒç”¨`loadHotTabs`æ–¹æ³•ï¼Ÿ -> åœ¨`created`é‡Œè¾¹ï¼šç»„ä»¶å®ä¾‹é…ç½®å®Œæˆï¼Œä½† DOM æœªæ¸²æŸ“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªé’©å­é‡Œè¾¹è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œé…ç½®å“åº”å¼æ•°æ® -> è¿™è·Ÿ Vue æ˜¯ä¸€æ ·çš„

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/9f83cb531893318f8be934806020859303e163f8)

è‡³æ­¤ï¼Œä¸€ä¸ªåŸºæœ¬çš„ç½‘ç»œè¯·æ±‚ä»£ç å°±å·²ç»å®Œæˆäº†ï¼

14ï¼‰tabs ç»„ä»¶ - è¿›è¡ŒåŸºæœ¬çš„æ•°æ®å±•ç¤º

æ–‡æ¡£ï¼š[scroll-view - uni-app å®˜ç½‘](https://uniapp.dcloud.io/component/scroll-view)

- `scroll-x`ï¼šå…è®¸æ¨ªå‘æ»šåŠ¨ -> é»˜è®¤å€¼æ˜¯`false`
- `scroll-with-animation`ï¼šåœ¨è®¾ç½®æ»šåŠ¨æ¡ä½ç½®æ—¶ä½¿ç”¨åŠ¨ç”»è¿‡æ¸¡ -> é»˜è®¤å€¼æ˜¯`false`

1. åœ¨ `hot` ä¸­ä½¿ç”¨`my-tabs`ç»„ä»¶ -> çˆ¶å­é€šä¿¡ -> ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼š
   1. `tabData`ï¼štabs æ•°æ®æº
   2. `defaultIndex`ï¼šå½“å‰çš„åˆ‡æ¢ index
2. åœ¨ `my-tabs` ç»„ä»¶ä¸­å±•ç¤º
   1. `scroll-view`
   2. `<block v-for="(item, index) in tabData" :key="index"></block>` -> uni-app éµå¾ª vue çš„ `v-for` æŒ‡ä»¤ï¼Œå°ç¨‹åºæ˜¯`wx:for="ğŸŸ¡ğŸŸ¡arrğŸŸ¡ğŸŸ¡"`ï¼Œé»˜è®¤å˜é‡åæ˜¯`item`ï¼Œä¸‹æ ‡æ˜¯`index`

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-17-14-28-21.png)

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/bd56aef)

15ï¼‰tabs ç»„ä»¶ - ç¾åŒ–æ ·å¼

> è¿™ä¸ªæ ·å¼çš„å®ç°è¿‡ç¨‹æ˜¯å¾ˆä¸‘é™‹çš„â€¦â€¦ -> æˆ‘å¾ˆéš¾ç†è§£ä¸ºå•¥è¦åµŒå¥—é‚£ä¹ˆå¤šå±‚â€¦â€¦

![tabs ç»„ä»¶](assets/img/2021-12-17-15-13-27.png)

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/f58beb5)

å¤´ä¸¤ä¸ªèƒ½åŠ›å·²ç»å®ç°äº†ï¼Œå¹¶ä¸”æŠŠæ•°æ®ç»™å±•ç¤ºå‡ºæ¥äº†ï¼Œé‚£ä¹ˆç°åœ¨ç¬¬ä¸‰ä¸ªèƒ½åŠ›ã€Œåœ¨çˆ¶ç»„ä»¶ä¸­é€‰ä¸­é¡¹ã€ -> è¿™è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿç›®å‰ï¼Œæˆ‘ä»¬å·²ç»ç»™äº†è¿™ä¸ªæ¿€æ´»é¡¹ä¸€ä¸ªå¯¹åº”çš„`props`ï¼ˆ`defaultIndex`ï¼‰äº† -> æœ‰äº†è¿™ä¸ª`props`è¯¥å¦‚ä½•å®ç°æ¿€æ´»é¡¹å‘¢ï¼Ÿ

åœ¨å¼€å§‹ä¸‹ä¸€å°èŠ‚å‰ï¼Œè¯·å…ˆè‡ªå·±å»å®ç°ä¸€éï¼ˆå”¯æœ‰è‡ªå·±å°è¯•å®ç°ä¸€éï¼Œä½ æ‰ä¼šå‘ç°è¿™é‡Œè¾¹æ‰€å­˜åœ¨çš„é—®é¢˜ï¼‰ -> å®ç°å¤±è´¥æœ‰å¤±è´¥çš„é—®é¢˜ï¼Œå®ç°æˆåŠŸä¹Ÿæœ‰æˆåŠŸçš„é—®é¢˜ -> å¸¦ç€é—®é¢˜å»çœ‹ä¸‹ä¸€å°èŠ‚ï¼Œå”¯æœ‰è¿™æ ·ä½ æ‰ä¼šæ”¶è·æ›´å¤šï¼

è¦å®ç°çš„æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-17-15-24-29.png)

16ï¼‰tabs ç»„ä»¶ - è®¾ç½®æ¿€æ´»é¡¹

è‡ªå·±å®ç°ä¸€éï¼š

1. åˆ¤æ–­`defaultIndex`æ˜¯å¦å’Œ`index`ç›¸ç­‰ -> ç›¸ç­‰å³ç»™`item`æ·»åŠ ä¸€ä¸ª`active`ç±»
2. å†™æ ·å¼ -> å¦‚ä½•æ‰èƒ½æœ‰ä¸‹åˆ’çº¿ï¼Ÿ
3. ç‚¹å‡»æŸä¸ª tab ï¼Œæ›´æ–° `defaultIndex`çš„å€¼ -> å¦‚ä½•ä¸º`my-tabs`ç»„ä»¶ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Ÿ -> å­å‘çˆ¶ä¼ å‚
4. ä¸‹åˆ’çº¿çš„æ»‘åŠ¨æ•ˆæœå¦‚ä½•å®ç°å‘¢ï¼Ÿ

æ³¨æ„ç‚¹ï¼š

- çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®ï¼Œæˆ‘ä»¬ä¸åº”è¯¥åœ¨å­ç»„ä»¶ä¸­è¿›è¡Œä¿®æ”¹
- uni-app çš„ç‚¹å‡»äº‹ä»¶ç”¨`@click`ï¼Œå¾®ä¿¡å°ç¨‹åºåˆ™æ˜¯ç”¨`bind:tap`
  - ç”¨æ¥æ›´æ–°`activeIndex`çš„å€¼
  - å¹¶ä¸”å‘å¤–ç•Œé€šçŸ¥ä¸€ä¸ª`tabClick`äº‹ä»¶
- æ•°æ®ç›‘å¬å™¨ç”¨`watch`ï¼Œå¾®ä¿¡å°ç¨‹åºåˆ™æ˜¯ç”¨`observers`
  - ç›‘å¬`defaultIndex`è¿™ä¸ªæ•°æ® -> å¿…é¡»æ·»åŠ `immediate: true`ï¼Œè¡¨ç¤º`defaultIndex`ç¬¬ä¸€æ¬¡èµ‹å€¼ï¼ˆé»˜è®¤å€¼æˆ–è€…çˆ¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼‰ä¹Ÿè¦è¢«ç›‘å¬åˆ° -> ä¸ºäº†æ›´æ–°`activeIndex`çš„å€¼è€ŒæœåŠ¡ -> è¿™å°±æ˜¯ã€Œçˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®ã€ä¸åº”è¯¥åœ¨å­ç»„ä»¶ä¸­è¿›è¡Œä¿®æ”¹
- å‘é€äº‹ä»¶é€šçŸ¥ç”¨`$emit` ï¼Œå¾®ä¿¡å°ç¨‹åºåˆ™æ˜¯ç”¨`triggerEvent `

å…³äºè€å¸ˆçš„ä»£ç å®ç°ï¼š`active`çš„åˆ‡æ¢æ˜¯åœ¨å­ç»„ä»¶å†…éƒ¨é€šè¿‡ä¿®æ”¹`activeIndex`æ¥å®Œæˆçš„ï¼Œè€Œæˆ‘çš„æ˜¯åœ¨çˆ¶ç»„ä»¶é€šè¿‡ä¿®æ”¹`defaultIndex`çš„å€¼æ¥å®Œæˆçš„

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/2035bf5)

å®ç°æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-17-18-29-26.png)

ğŸ‘‡ï¼šå®ç°æ¿€æ´»é¡¹ä¸‹è¾¹çš„æ»‘å—æ•ˆæœ

17ï¼‰tabs ç»„ä»¶ - å®šä¹‰æ»‘å—

- ä½¿ç”¨`style`æ·»åŠ å†…è”æ ·å¼
- å®šä¹‰äº†ä¸€ä¸ª`slider`æ•°æ®ï¼Œå®ƒæ——ä¸‹æœ‰ä¸ª`left`å±æ€§ï¼Œç”¨æ¥æŒ‡å®šè¿™ä¸ªæ»‘å—è·ç¦»å·¦ä¾§çš„è·ç¦»æ˜¯å¤šå°‘ï¼Œé»˜è®¤æ˜¯`0`

![å®šä¹‰æ»‘å—](assets/img/2021-12-17-19-01-57.png)

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/b7a37ff)

ğŸ‘‡ï¼šå®ç°æ»‘å—çš„æ»šåŠ¨æ•ˆæœ

18ï¼‰tabs ç»„ä»¶ - å®ç°æ»‘å—çš„æ»šåŠ¨ 01

æƒ³è¦å®ç°æ»‘å—çš„æ»šåŠ¨ï¼š

1. ç¡®å®šæ»šåŠ¨çš„æ—¶æœº -> ä¹Ÿå°±æ˜¯æ»‘å—ä»€ä¹ˆæ—¶å€™å‘ç”Ÿæ»šåŠ¨ -> ç›‘å¬æ¿€æ´»é¡¹çš„å˜åŒ– + tab çš„ç‚¹å‡»äº‹ä»¶å¤„ç†æ—¶
2. è®¡ç®—æ»‘å—æ»šåŠ¨çš„è·ç¦» -> ä¹Ÿå°±æ˜¯`this.slider.left`çš„å€¼

å¦‚ä½•è®¡ç®—æ»‘å—æ»šåŠ¨çš„è·ç¦»ï¼Ÿ

![æ»‘å—çš„æ»šåŠ¨è·ç¦»](assets/img/2021-12-17-19-26-56.png)

æˆ‘ä»¬è¦çŸ¥é“`tabItem`çš„å®½åº¦ï¼Œ`tabItem`çš„`left`ï¼Œslider çš„`width`

ä¸€ä¸ªæ ‡å‡†çš„æ•°å­¦å…¬å¼ï¼š

``` js
left = tabItem.left + (tabItem.width - slider.width) / 2
```

![slider left](assets/img/2021-12-17-19-37-55.png)

> è¿™ä¸ªå…¬å¼ä¼¼æ›¾ç›¸è¯†

19ï¼‰tabs ç»„ä»¶ - å®ç°æ»‘å—çš„æ»šåŠ¨ - 02

1. slider çš„`width`å¾ˆå®¹æ˜“ç¡®å®šï¼Œå› ä¸ºè¿™æ˜¯å›ºå®šçš„ -> æ·»åŠ é»˜è®¤é…ç½®æ•°æ®ï¼š`defaultConfig`
   1. é…ç½®ä¸‹åˆ’çº¿çš„å®½é«˜ä»¥åŠé¢œè‰² -> æ·»åŠ åˆ° `view.underLine`çš„`style`
2. åˆ›å»ºä¸€ä¸ªå†…éƒ¨ç»´æŠ¤çš„æ•°æ®å¯¹è±¡`tabList`ï¼Œç›¸è¾ƒäºçˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„`tabData`ï¼Œæ¯ä¸ª`item`å¤šäº†ä¸€ä¸ª`_slider`å±æ€§ï¼Œè¯¥å±æ€§æœ‰ä¸ª`left`å±æ€§ï¼Œå­˜å‚¨çš„æ˜¯æ»‘å—è·ç¦»å·¦ä¾§çš„è·ç¦»å€¼
3. ç›‘å¬`tabData`çš„å˜åŒ–ï¼Œå†æ¬¡å¼ºè°ƒï¼Œè®¾ç½®äº†`immediate:true`ï¼Œç¬¬ä¸€æ¬¡çš„åˆå§‹å€¼ï¼Œä¹Ÿæ˜¯ä¼šæ‰§è¡Œå®ƒçš„`handler`çš„ï¼Œæ‰€ä»¥åœ¨`updateTabWidth`å’Œ`tabToIndex`ä¼šæœ‰ä¸€ä¸ªåˆ¤æ–­`tabList`æ˜¯å¦ä¸ºç©ºæ•°ç»„çš„è¯­å¥
   1. ç¬¬ä¸€æ¬¡æ‰§è¡Œ`updateTabWidth`æ²¡å•¥ååº” -> å› ä¸ºæ­¤æ—¶`tabData`ä¸ºç©ºï¼Œæ‰€ä»¥`tabList`ä¹Ÿä¸ºç©º
   2. ç¬¬äºŒæ¬¡æ‰§è¡Œ`updateTabWidth`ï¼Œè·å–æ¯ä¸ª `tabItem` DOM å…ƒç´ çš„ä¿¡æ¯ï¼Œè®¡ç®—æ¯ä¸ª `tabItem` è·ç¦»å·¦ä¾§çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯ç»™`tabList`é‡Œè¾¹çš„æ¯ä¸ª`item`æ·»åŠ ä¸€ä¸ª`_slider.left` -> å› ä¸ºçˆ¶ç»„ä»¶ä¼ é€’äº†`tabData`ï¼Œæ‰€ä»¥`tabData`ä¸ä¸ºç©º -> é»˜è®¤ä¼šæœ‰ä¸€æ¬¡è®¡ç®—ã€Œæ»‘å—ã€çš„ä½ç½®ï¼Œæ¯”å¦‚åˆå§‹çš„ç¬¬ä¸€æ¬¡
4. åˆ‡æ¢`tabItem` -> ç‚¹å‡»äº‹ä»¶è§¦å‘ -> æ›´æ–°`this.slider.left`çš„å€¼ï¼Œå¥½è®©`view.underLine`çš„`transform`æ ¹æ®è¿™ä¸ª`this.slider.left`äº§ç”Ÿæ°´å¹³ä½ç§»

ä¸€äº›å°æŠ€å·§ï¼š

- ä»€ä¹ˆæ—¶å€™å¯ä»¥è·å– DOM å…ƒç´ ï¼Ÿ -> å¯ä»¥åœ¨`handler`é‡Œè¾¹ç”¨`setTimeout` -> `$nextTick()`å…¼å®¹æ€§ä¸å¥½
- è·å– DOM å…ƒç´ æ—¶ï¼šç»™æ¯ä¸ª`tabItem`æ·»åŠ äº†`:id="'_tab_' + index"`
- è·å– DOM çš„å›ºå®šå†™æ³•ï¼š
  - `const query = uni.createSelectorQuery().in(this);`
  - `query.select("#_tab_" + index).boundingClientRect((res) => { // è·å–æ¯ä¸ªå…ƒç´ åœ¨è¿™ä¸ªé¡µé¢çš„ç©ºé—´ä¿¡æ¯ }).exec()`

![tab Item](assets/img/2021-12-17-21-47-29.png)

---

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-17-23-10-32.png)

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/94618da)

20ï¼‰tabs ç»„ä»¶ - scrollView çš„ç‚¹å‡»ä½ç§»

éœ€æ±‚ï¼šå½“ã€é€‰ä¸­é¡¹ã€‘å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¸Œæœ› `scrollView` ä¹Ÿè¿›è¡Œå¯¹åº”çš„ä½ç§» -> è¯´ç™½äº†ï¼Œæƒ³é€‰æœ€åä¸€ä¸ªï¼Œä¸è®©ç”¨è‡ªå·±æ‹–åŠ¨è¿™ä¸ª `scroll` è§†å›¾å®¹å™¨

ç”¨ä»£ç æ¨¡æ‹Ÿæˆ‘ä»¬ç”¨é¼ æ ‡æ»‘åŠ¨çš„æ»šåŠ¨è§†å›¾å®¹å™¨çš„æ•ˆæœ

![ä½ç§»](assets/img/2021-12-17-23-23-18.png)

å…³é”®ä»£ç ï¼š

- `:scroll-left="scrollLeft"`
- `this.scrollLeft = this.activeIndex * this.defaultConfig.underLineWidth;`

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/a97b8ce)

21ï¼‰tabs ç»„ä»¶ - å¢åŠ å¯é…ç½®é¡¹

éœ€æ±‚ï¼šå¯åœ¨çˆ¶ç»„ä»¶ä¸­å®šåˆ¶ `my-tabs` æ ·å¼

![æŒ‡å®š my-tabs æ ·å¼](assets/img/2021-12-17-23-42-52.png)

åšæ³•ï¼š

1. ç»™`data`çš„`defaultConfig`è¿½åŠ å‡ é¡¹æœ‰å…³æ ·å¼çš„é…ç½®
2. ç›‘å¬`props`â€”â€”`config` -> è®©å†…éƒ¨ç»´æŠ¤çš„æ•°æ®å¯¹è±¡`defaultConfig`è·Ÿçˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®åˆå¹¶ä¸€ä¸‹ -> è¯´ç™½äº†ï¼Œå­ç»„ä»¶å†…éƒ¨é»˜è®¤çš„æ ·å¼é…ç½®ä½œä¸ºå…œåº•å€¼
3. ç”¨`style`å±æ€§æŒ‡å®šæ¯ä¸ª`tabItem`çš„æ ·å¼

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/7af3f0f)

---

è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å·²ç»å®Œæˆäº†`tabs`ç»„ä»¶çš„å¼€å‘äº† -> æ•´ä¸ª`tabs`ç»„ä»¶ä»åˆ›å»ºå¼€å§‹åˆ°æœ€åå®Œæˆï¼Œæ€»å…±ç»å†äº† 9 å°èŠ‚å†…å®¹

`tabs` ç»„ä»¶æ˜¯æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®ä¸­ç¬¬ä¸€ä¸ªå¤æ‚çš„ç»„ä»¶ï¼Œå¹¶ä¸”æˆ‘ä»¬å¸Œæœ›æŠŠè¿™ä¸ª`tabs`ç»„ä»¶åšæˆä¸€ä¸ªè½®å­ï¼Œå¯ä»¥æ»¡è¶³æ›´å¤šåº”ç”¨çš„éœ€æ±‚ -> æ‰€ä»¥æˆ‘ä»¬ä¸å…‰è¦å®ç°åŠŸèƒ½å°±å®Œäº‹å„¿äº†ï¼Œæˆ‘ä»¬è¿˜è¦æä¾›å®šåˆ¶åŒ–çš„ä¸€äº›ç‰¹æ€§ï¼ˆæ¯”å¦‚æ ·å¼ï¼‰ï¼Œè¿™æ ·çš„è¯ï¼Œæ‰èƒ½è®©æˆ‘ä»¬è¿™ä¸ªç»„ä»¶æ¥æ»¡è¶³å„ä¸ªé¡¹ç›®çš„å„ä¸ªåœºæ™¯é‡Œè¾¹å»

22ï¼‰List ç»„ä»¶ - åˆ†æ List ç»„ä»¶

è¿™æ˜¯é¦–é¡µçš„æœ€åä¸€ä¸ªåŠŸèƒ½ï¼

åˆ†æå®Œæˆå“é‡Œè¾¹ List ç»„ä»¶çš„æ•ˆæœï¼Œå¾—å‡ºæˆ‘ä»¬è¦åšä»¥ä¸‹å‡ ä¸ªæ­¥éª¤æ‰èƒ½å®ç°å®ƒï¼š

1. ä½¿ç”¨ mock æ•°æ®ï¼ˆå‡æ•°æ®ï¼‰ï¼Œæ„å»º List çš„åŸºæœ¬ç»“æ„ -> æ­¤æ—¶åç«¯é‚£è¾¹è¿˜æ²¡æœ‰æ¥å£
2. ç¾åŒ– item æ ·å¼
3. æ ¹æ® tab çš„åˆ‡æ¢ï¼Œè·å–çœŸå®æ•°æ®
4. æ¸²æŸ“çœŸå®æ•°æ®
5. è®© List å…·å¤‡å·¦å³åˆ‡æ¢çš„èƒ½åŠ› -> é€šè¿‡ swiper æ”¹é€  List
6. å®Œæˆ list ä¸ tabs çš„è”åŠ¨çš„èƒ½åŠ› -> ä¹Ÿå°±æ˜¯å®Œæˆ swiper å’Œ tabs çš„è”åŠ¨æ•ˆæœ -> tabs åˆ‡æ¢ï¼Œlist è§†å›¾ä¹Ÿåˆ‡æ¢ï¼Œlist è§†å›¾å·¦å³æ»‘ï¼Œtabs ä¹Ÿä¼šè‡ªåŠ¨è·Ÿç€åˆ‡æ¢

23ï¼‰List ç»„ä»¶ - ä½¿ç”¨ mock æ•°æ®ï¼Œæ„å»º List çš„åŸºæœ¬ç»“æ„

> ç»„ä»¶çš„æ ¹å…ƒç´  -> æ§åˆ¶åŒç±»ç›’å­ä¹‹é—´çš„é—´éš™ï¼›ç›’å­å®¹å™¨ -> æ§åˆ¶ç›’å­çš„å¤–è§‚ï¼›å†…å®¹å®¹å™¨ -> æ§åˆ¶å…ƒç´ 
> 
> æœ‰å¤šä¸ªå­å…ƒç´ å°±ç”¨ä¸€ä¸ªå®¹å™¨æŠŠå®ƒä»¬ç»™åŒ…è£¹äº†

æŠŠæ¯ä¸ª`item`é¡¹æŠ½ç¦»æˆå•ç‹¬çš„ç»„ä»¶â€”â€”`hot-list-item`

ä½¿ç”¨å‡æ•°æ®æŠŠç»„ä»¶çš„åŸºæœ¬ç»“æ„ç»™æ¸²æŸ“å‡ºæ¥

![hot-list-item](assets/img/2021-12-18-15-51-11.png)

`item`çš„ç»“æ„åˆ’åˆ†ï¼š

![ç»“æ„åˆ’åˆ†](assets/img/2021-12-18-15-54-18.png)

å·¦ä¾§å±•ç¤ºçš„ç´¢å¼•å›¾æ ‡ï¼Œè€Œä¸”æ¯ä¸ª`item`éƒ½æœ‰ï¼Œå¹¶ä¸”éƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå°è£…æˆä¸€ä¸ªç»„ä»¶â€”â€”`hot-ranking`

æ³¨æ„ï¼Œè¿™ä¸ªå›¾æ ‡åªæ˜¯å›¾ç‰‡ï¼Œè¿™ä¸ªå›¾ç‰‡æ˜¯åŒ…å«æ•°å­—å†…å®¹çš„

---

![ç»“æ„](assets/img/2021-12-18-19-29-45.png)

ç›®å‰è¿™ä¸ªç»“æ„æœ‰äº†ï¼Œå°±æ˜¯æ ·å¼é•¿å¾—å¤ªä¸‘äº†ï¼š

![æ ·å¼å¤ªä¸‘](assets/img/2021-12-18-17-26-41.png)

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/d4a1fb9)

24ï¼‰List ç»„ä»¶ - ç¾åŒ– item æ ·å¼

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-18-19-23-10.png)

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/8f07d00)

25ï¼‰List ç»„ä»¶ - æ ¹æ® tab çš„åˆ‡æ¢ï¼Œè·å–çœŸå®æ•°æ®

> æ‰€è°“çš„çœŸå®æ•°æ®æŒ‡çš„æ˜¯åç«¯çš„æ¥å£å·²ç»å†™å¥½äº†ï¼ä½ å¯ä»¥æ ¹æ®è¿™ä¸ªæ¥å£çš„å®šä¹‰å»è·å–æ•°æ®ï¼Œä¹‹å‰çš„å‡æ•°æ®åªæ˜¯ä¸ºäº†å®Œæˆè¿™ä¸ª`List`ç»„ä»¶çš„ç»“æ„ä»¥åŠæ ·å¼ï¼

1. ç›‘å¬`tab`åˆ‡æ¢
   1. `my-tabs`ç»„ä»¶ -> å‘é€äº†ä¸€ä¸ª`tabClick`é€šçŸ¥
   2. çˆ¶ç»„ä»¶æ¥æ”¶è¿™ä¸ªé€šçŸ¥ -> ä¿®æ”¹æ¿€æ´»é¡¹ -> è®©å­ç»„ä»¶æ­¤åˆ»æ¿€æ´»çš„`index`å’Œçˆ¶ç»„ä»¶çš„`currentIndex`ç»‘å®š
2. å‘é€æ•°æ®è¯·æ±‚ -> è·å–çƒ­æœæ–‡ç« åˆ—è¡¨
   1. `hot.js`å°è£…è¯·æ±‚æ¥å£
   2. çˆ¶ç»„ä»¶å®šä¹‰ä¸€ä¸ªæ–¹æ³•`loadHotListFromTab` -> è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯ã€Œè·å– List åˆ—è¡¨æ•°æ®ã€ -> ä»€ä¹ˆæ—¶å€™è°ƒç”¨è¿™ä¸ªæ–¹æ³• -> åœ¨è°ƒç”¨`loadHotTabs`çš„æ—¶å€™ï¼Œå› ä¸ºï¼Œæˆ‘ä»¬è·å– list æ•°æ®æ—¶ï¼Œéœ€è¦ tab ä¸­å¯¹åº”çš„ id -> è¿™æ˜¯åˆå§‹åŒ–åˆ—è¡¨çš„ç¬¬ä¸€æ¬¡æ•°æ®è¯·æ±‚
3. ç¼“å­˜è¯·æ±‚å¾—åˆ°çš„æ•°æ® -> ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œé‚£å°±æŠŠè¿™æ¬¡è¯·æ±‚å¾—æ¥çš„æ•°æ®ç»™ç¼“å­˜ä¸‹æ¥ -> åˆ‡æ¢æ—§çš„ï¼Œä¸ä¼šå†æ¬¡å‘é€è¯·æ±‚
   1. è¿™ä¸ª tab ä»æœªè·å–è¿‡åˆ—è¡¨æ•°æ® -> loading
   2. è¿™ä¸ª tab å·²ç»è·å–è¿‡åˆ—è¡¨æ•°æ® -> ç›´æ¥æ¸²æŸ“

å…³é”®ç‚¹ï¼š

- ç¼“å­˜æ•°æ®æºçš„å®šä¹‰ï¼š`listData: {}` -> `key` æ˜¯ `tabItem` çš„ `id`ï¼Œ`value`æ˜¯è¿™ä¸ª`tabItem`æ‰€å¯¹åº”çš„`list`æ•°æ®

æ³¨æ„ç‚¹ï¼š

- çˆ¶ç»„ä»¶è¦ç›‘å¬å­ç»„ä»¶å‘å¸ƒè¿‡æ¥çš„äº‹ä»¶ -> å¾®ä¿¡å°ç¨‹åºé€šè¿‡`bind`ç›‘å¬äº‹ä»¶ï¼Œuniapp éµå¾ª vue è§„åˆ™ï¼Œé€šè¿‡ `@` ç›‘å¬äº‹ä»¶
- åŠ è½½åŠ¨ç”» -> uni-app æä¾›äº†ä¸€ä¸ª`uni-load-more`ç»„ä»¶ -> ç”¨æ¥ä¸“é—¨å±•ç¤ºåŠ è½½åŠ¨ç”»çš„ç»„ä»¶

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-19-13-26-24.png)

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/4e3b44f)

ğŸ‘‡ï¼šæ¸²æŸ“çœŸå®æ•°æ®

26ï¼‰List ç»„ä»¶ - æ¸²æŸ“çœŸå®æ•°æ®

1. æ›¿æ¢æ‰å‡çš„æ•°æ®æºï¼š`v-for="(item, index) in 50"` -> `v-for="(item, index) in listData[currentIndex]"`
2. æŠŠæ¯ä¸ª`list`æ•°æ®ä¼ ç»™ List ç»„ä»¶ -> ç»™ List ç»„ä»¶å®šä¹‰ä¸¤ä¸ª`props`ï¼š`data`ï¼ˆå¾ªç¯åˆ—è¡¨çš„ `item` æ•°æ®ï¼‰ã€`ranking`ï¼ˆæ’åæ¬¡åºæ•°æ®ï¼‰
3. çˆ¶ç»„ä»¶`hot`ä¼ é€’æ•°æ®ç»™äº†å­ç»„ä»¶`list` -> å­ç»„ä»¶å¾—æŠŠæ•°æ®ç»™æ˜¾ç¤ºå‡ºæ¥ -> æ ¹æ®æ¥å£æ–‡æ¡£æ¥ç¡®å®šæœ‰å“ªäº›æ•°æ®éœ€è¦è¢«å±•ç¤ºï¼šæ¯”å¦‚`title`ã€`nickname`
4. æ ·å¼ç¾åŒ– -> ç®€ä»‹æœ€å¤šå±•ç¤ºä¸¤è¡Œ -> è¿™ä¸ªæ ·å¼ç»å¸¸è¢«ç”¨åˆ° -> æŠ½ç¦»å‡ºä¸€ä¸ª`styles`æ–‡ä»¶å¤¹ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹è¾¹åˆ›å»ºä¸€ä¸ª`global.scss` -> å®šä¹‰å…¬å…±æ ·å¼çš„åœ°æ–¹ -> å±•ç¤ºä¸¤è¡Œçš„æ ·å¼æ˜¯å›ºå®šçš„ CSS å†™æ³• -> éœ€è¦åšå…¼å®¹å¤„ç† -> åœ¨`main.js`å¼•å…¥å…¬å…±æ ·å¼ -> è°è¦æ·»åŠ è¿™ä¸ªç±»ï¼Ÿ
   1. æ ‡é¢˜
   2. ç®€ä»‹
5. å¤„ç†æ’åï¼Œä¹Ÿå°±æ˜¯ç»™`hot-ranking`ç»„ä»¶æ·»åŠ `props`
   1. æ ¹æ®ä¸åŒçš„æ’åï¼Œæ˜¾ç¤ºä¸åŒçš„èƒŒæ™¯å›¾ç‰‡ï¼Œå›¾ç‰‡åˆ†ä¸ºï¼š1ã€2ã€3ã€å…¶å®ƒï¼Œè¿™å››ç§
      1. ä½¿ç”¨è®¡ç®—å±æ€§ -> æ ¹æ®ä¼ é€’è¿‡æ¥çš„æ’åæ•°æ®ï¼Œæ¥å†³å®šæ¸²æŸ“çš„æ˜¯å“ªå¼ èƒŒæ™¯å›¾ -> JS åŠ è½½å›¾ç‰‡ç”¨`require`
   2. å¤„ç†æ’åçš„æ–‡æœ¬é¢œè‰² -> ç”¨`:class`
      1. å‰ä¸‰åæ˜¯ç™½è‰²
      2. éå‰ä¸‰åæ˜¯é»‘è‰²

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-19-15-54-56.png)

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/2967c66)

å‰å››æ­¥å·²ç»å®Œæˆï¼š

1. ä½¿ç”¨ mock æ•°æ®ï¼ˆå‡æ•°æ®ï¼‰ï¼Œæ„å»º List çš„åŸºæœ¬ç»“æ„ -> æ­¤æ—¶åç«¯é‚£è¾¹è¿˜æ²¡æœ‰æ¥å£
2. ç¾åŒ– item æ ·å¼
3. æ ¹æ® tab çš„åˆ‡æ¢ï¼Œè·å–çœŸå®æ•°æ®
4. æ¸²æŸ“çœŸå®æ•°æ®

æ¥ä¸‹æ¥å®ç°ï¼š

1. è®© list æ‹¥æœ‰å·¦å³åˆ‡æ¢çš„èƒ½åŠ›
2. è®© list å’Œ tabs æœ‰è”åŠ¨æ•ˆæœ

ğŸ’¡ï¼šå…³äºæ–‡æœ¬çš„æˆªæ–­

- [çº¯ CSS å®ç°å¤šè¡Œæ–‡å­—æˆªæ–­ Â· Issue #12 Â· happylindz/blog](https://github.com/happylindz/blog/issues/12)
- [CSS å•ï¼ˆå¤šï¼‰è¡Œæ–‡æœ¬è¶…è¿‡éƒ¨åˆ†æ˜¾ç¤ºçœç•¥å·ï¼Œè§£å†³æ•°å­—æˆ–è‹±æ–‡ä¸æ¢è¡Œé—®é¢˜](https://blog.csdn.net/qq_23375733/article/details/99713759)

27ï¼‰List ç»„ä»¶ - é€šè¿‡ swiper æ”¹é€  List 

æƒ³è¦è®© `list` å…·å¤‡ã€æ¨ªå‘ç¿»é¡µã€‘çš„æ•ˆæœï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ `swiper` å¯¹å…¶è¿›è¡Œæ”¹é€ ï¼

1. å®šä¹‰ä¸€ä¸ª`swiper`ç»„ä»¶ -> å…·å¤‡æ»šåŠ¨èƒ½åŠ›ï¼š
   1. æ¯ä¸€ä¸ª`swiper-item`ä¸‹è¾¹éƒ½æ˜¯ä¸€ä¸ªéå†å®Œæˆçš„ä¸€ä¸ªä¸ª`hot-list-item` -> å¾ªç¯æ¬¡æ•°ç”±`listData`å†³å®š -> æ­¤æ—¶ç”¨çš„æ˜¯`tabIndex`å±æ€§ï¼ˆ`tabData`çš„`0~6`ï¼‰ï¼Œè€Œä¸æ˜¯ä¹‹å‰çš„`currentIndex`å±æ€§ï¼Œå› ä¸º`swiper`æ»‘åŠ¨çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯éœ€è¦å˜åŒ–çš„ -> éœ€è¦ç»™`swiper`ç»„ä»¶æŒ‡å®š`current`å±æ€§ï¼ˆå€¼æ˜¯`currentIndex`ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç‚¹å‡»æŸä¸ª`tab`å¯ä»¥åˆ‡æ¢åˆ—è¡¨æ•°æ®ï¼‰ï¼Œå®ƒå†³å®šå½“å‰å±•ç¤ºå“ªä¸ª `swiperItem`ï¼Œä¸ç„¶è¿™ä¸ª`tabIndex`æ°¸è¿œä¸º`0`
   2. `swiper-item`çš„æ•°é‡å–å†³äº`my-tabs`é‡Œè¾¹çš„`tabItem`æ•°é‡ -> `tabData`å†³å®š -> `v-for`å¤„ç†ä¸€ä¸‹

![swiper](assets/img/2021-12-19-18-08-06.png)

> `current`å±æ€§ï¼šé»˜è®¤å€¼æ˜¯`0`ï¼Œè¡¨ç¤ºå½“å‰æ‰€åœ¨æ»‘å—çš„ `index`

æ•ˆæœï¼š

`swiper-item`é»˜è®¤å±•ç¤ºç¬¬ä¸€ä¸ª `list` çš„æ•°æ®ï¼Œå…¶å®ƒ 6 ä¸ª `swiper-item`ï¼Œä½ åœ¨æ»‘åŠ¨çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°è¿™æ˜¯ç©ºçš„ï¼š

![ç©ºçš„](assets/img/2021-12-19-18-18-40.png)

å½“ä½ ç¬¬ä¸€æ¬¡ç‚¹å‡»å…¶å®ƒ`tab`æ—¶ï¼Œä¼šåŠ è½½è¿™ä¸ª`tab`å¯¹åº”çš„`list`æ•°æ®ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œè¿™ä¸ªã€Œç©ºã€å°±è¢«å¡«ä¸Šäº†è¿™ä¸ª`list`æ•°æ®ï¼

![æœ‰æ•°æ®](assets/img/2021-12-19-18-20-38.png)

è¦æŠŠè¿™äº›ã€Œç©ºã€éƒ½å¡«å®Œï¼Œä½ å¾—æŠŠæŠŠå…¶ä½™çš„æ²¡æœ‰ç‚¹è¿‡çš„`tab`éƒ½ç»™ç‚¹ä¸€éâ€¦â€¦è¿™æ ·å·¦å³æ»‘çš„æ—¶å€™éƒ½ä¼šçœ‹åˆ°æœ‰æ•°æ®å­˜åœ¨äº†ï¼ -> ä¸ºå•¥è¿™æ ·ç‚¹å°±ä¼šæœ‰æ•°æ®ï¼Ÿ -> å› ä¸ºæˆ‘ä»¬ç‚¹å‡»`tab`ï¼Œå°±æ˜¯åœ¨è¯·æ±‚è¿™ä¸ª`tab`æ‰€å¯¹åº”çš„`list`æ•°æ®å•Šï¼Œè€Œè¿™å†™æ•°æ®ä¼šè¢«ç¼“å­˜åˆ°`listData`ä¸­

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/09572be)

ç›®å‰å­˜åœ¨çš„é—®é¢˜ï¼š

1. `list`åˆ—è¡¨çš„é«˜åº¦å±•ç¤ºé”™è¯¯ -> ä¹Ÿå°±æ˜¯åˆ—è¡¨æ•°æ®æ²¡æœ‰å±•ç¤ºå…¨
2. åˆ‡æ¢ tab æ—¶ï¼Œlist çš„æ¸²æŸ“å‡ºç°å¡é¡¿é—®é¢˜

![é—®é¢˜](assets/img/2021-12-19-18-15-35.png)

åº”è¯¥æ˜¯ list çš„æ•°æ®æ¸²æŸ“å®Œå†æ»‘ï¼Ÿè¿˜æ˜¯æ»‘å®Œåå†æ¸²æŸ“ï¼Ÿ -> ç­‰å¤§é£å°äº†å†èµ°ï¼Œè¿˜æ˜¯ä¸ç®¡å¤§é£ç›´æ¥èµ°å‘¢ï¼Ÿ

28ï¼‰List ç»„ä»¶ - è§£å†³åˆ—è¡¨é«˜åº¦å±•ç¤ºé”™è¯¯çš„é—®é¢˜

- åŸå› ï¼šæ²¡æœ‰ç»™ `swiper` æŒ‡å®šé«˜åº¦
- è§£å†³æ–¹æ¡ˆï¼šæŒ‡å®šé«˜åº¦å³å¯

å¯è¿™ä¸ªé«˜åº¦è¯¥ç»™å¤šå°‘å‘¢ï¼Ÿ`1000px`ï¼Ÿ`2000px`ï¼Ÿ

![å›ºå®šé«˜åº¦](assets/img/2021-12-19-19-07-06.png)

![å‰©ä½™æ•°æ®](assets/img/2021-12-19-19-32-47.png)

ä½ è¦çŸ¥é“æ¯ä¸ª`tabs`æ‰€å¯¹åº”çš„`list`æ•°æ®çš„é«˜åº¦æ˜¯ä¸ä¸€æ ·çš„ï¼ -> è¿™ä¸ªæ¥å£ç»™å‡ºæ¥çš„æ¯ä¸ª`tab`éƒ½æ˜¯`20`æ¡æ•°æ®ï¼Œä¸è¿‡æˆ‘ä»¬å‡è®¾éƒ½ä¸ä¸€æ ·ï¼

æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆï¼šè®¡ç®—å‡ºæ¯ä¸ª `listItem` çš„é«˜åº¦ï¼Œç„¶åå åŠ åˆ°ä¸€èµ·ï¼Œå°±å¯ä»¥å¾—åˆ° `swiper` çš„é«˜åº¦äº†ï¼

è¿™ä¸ªæ–¹æ¡ˆçš„å®ç°é€»è¾‘ï¼š

1. å®šä¹‰æ•°æ®
   1. `currentSwiperHeight`ï¼šå½“å‰ `swiper` çš„é«˜åº¦
   2. `swiperHeightData`ï¼šç¼“å­˜é«˜åº¦çš„è®¡ç®—ç»“æœï¼šä»¥ `index` ä¸º `key`ï¼Œå¯¹åº”çš„ `swiper` çš„é«˜åº¦ ä¸º `val` -> æ¯æ¬¡è®¡ç®—å¤ªè€—æ€§èƒ½äº†ï¼Œä½ å¾—æŠŠè®¡ç®—ç»“æœç»™ç¼“å­˜ä¸‹æ¥
2. å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼š`getCurrentSwiperHeight` -> ç”¨æ¥å¸®æˆ‘ä»¬è®¡ç®—å½“å‰ `swiper` çš„é«˜åº¦
   1. æ‹¿åˆ°æ‰€æœ‰çš„ `item` -> è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼ˆ[èŠ‚ç‚¹ä¿¡æ¯ - uni-app å®˜ç½‘](https://uniapp.dcloud.io/api/ui/nodes-info?id=createselectorquery)ï¼‰
      1. è·å–èŠ‚ç‚¹ä¿¡æ¯æœ‰å›ºå®šçš„ä»£ç å†™æ³•
   2. æ‹¿åˆ°æ‰€æœ‰ `item` çš„é«˜åº¦ -> æ¥è‡ªä¸€ä¸ªä¸ªçš„èŠ‚ç‚¹ä¿¡æ¯
   3. æŠŠæ‰€æœ‰çš„é«˜åº¦ç´¯åŠ 
3. ä»€ä¹ˆæ—¶å€™è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Ÿ -> å½“æ¸²æŸ“å®Œæˆæ•°æ®ä¹‹åï¼Œå†å»è®¡ç®—é«˜åº¦
   1. `this.$nextTick` å­˜åœ¨ä¸€å®šçš„å…¼å®¹æ€§é—®é¢˜ï¼Œæ‰€ä»¥æ›´åŠ æ¨èä½¿ç”¨ä¼ ç»Ÿçš„æ–¹å¼ `setTimeout`
   2. åœ¨`getHotListFromTab`é‡Œè¾¹çš„`setTimeout`çš„å›è°ƒé‡Œè°ƒç”¨
      1. æ‹¿åˆ°`getCurrentSwiperHeight`çš„ç»“æœå€¼ï¼Œä¹Ÿå°±æ˜¯è¯´`swiper`çš„é«˜åº¦
      2. æŠŠè¿™ä¸ªé«˜åº¦æ”¾å…¥`swiperHeightData`ç¼“å­˜ä¸­ -> å½“å‰é€‰ä¸­çš„`tabItem`ç´¢å¼•å€¼ä½œä¸º`key`ï¼Œè€Œå¯¹åº”çš„`value`å°±æ˜¯è¿™ä¸ªé«˜åº¦å€¼
4. ä½¿ç”¨è¿™ä¸ªç¼“å­˜é«˜åº¦ï¼š`currentSwiperHeight`

æ³¨æ„ï¼š

![æ³¨æ„](assets/img/2021-12-19-19-21-47.png)

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-12-19-19-29-27.png)

> [Demo](https://github.com/ppambler/imooc-uni-app/commit/d93a4a9)

29ï¼‰List ç»„ä»¶ - è§£å†³ åˆ‡æ¢ `tab` æ—¶çš„ `list` çš„å¡é¡¿é—®é¢˜
