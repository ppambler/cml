### ✍️ Tangxt ⏳ 2022-05-12 🏷️ 小程序

# 12-小程序登录解析和分包处理

1）

💡：公司项目用 rematch、reselect 等这样我没有接触过的库

看文档是否健全，一个库的文档健全，那学起来是非常快的，不管是啥框架

💡：如何给开源项目添加自己的代码？

1. 自己下载这个代码，觉得某个功能没有或者不好用，自己添加功能，自己使用或者给该项目一个 PR，也许作者会合并
2. 项目有 bug，自己处理，提 PR

给知名项目提 PR，可以写到简历里边去

看源码修改源码，很少会这样，很多都是功能不足或有 bug！

当然，对于英文文档，合并贼快，也就是说这个项目有专门的人来管理！

2）掌握播放工具栏占位、点击跳转处理

💡：目前代码存在的小问题

![小问题](assets/img/2022-05-13-19-41-18.png)

为什么给`currentSong`的初始值是`{}`，而不是`null`或`undefined`这样的值？ -> 因为要避免`null.id`或`undefined.id`这样的报错情况

所以对于这个`currentSong`最后会有拿`xxx.id`这样的属性值，建议初始值为空对象`{}`，当然，你写`null`也行，不过，除了在首页要写以外，供享的`currentSong`的初始值也要改为`null`，毕竟`event-store`会初始化一次

![bug 解决](assets/img/2022-05-13-19-47-02.png)

💡：如果你发现播放条跟着页面滚

这是模拟器的问题，真机上不会出现这个问题

💡：播放条遮住处理

![播放条](assets/img/2022-05-13-19-52-36.png)

💡：点击播放条，会跳到播放详情，由于数据是共享的，所以播放到哪，进度条会展示到哪儿

![bug](assets/img/2022-05-13-19-55-46.png)

为啥会这样？ -> 事件向上传递了

用`catchtap`监听播放或暂停按钮

![冒泡](assets/img/2022-05-13-19-58-50.png)

> [Demo](https://github.com/ppambler/QQMusic/commit/c4410ed)

![效果](assets/img/2022-05-13-20-10-01.png)

3）

> 2 22 51
