### âœï¸ Tangxt â³ 2022-03-28 ğŸ·ï¸ å°ç¨‹åº

# 06-HYMusic æœç´¢â»šå’Œæœç´¢åŠŸèƒ½å¼€å‘

1ï¼‰ç­”ç–‘

ğŸ’¡ï¼šäº‹ä»¶æ€»çº¿ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ

- è·¨ç»„ä»¶é€šä¿¡
- è·¨é¡µé¢é€šä¿¡

äº‹ä»¶æ€»çº¿ -> ç±»ä¼¼è®¢é˜…å‘å¸ƒæ¨¡å¼ -> ç›¸å½“äºæ˜¯ä¸€ç§äº‹ä»¶ä¼ é€’

A `$emit` ä¸€ä¸ªäº‹ä»¶ï¼Œæ­¤æ—¶ B ç»„ä»¶è¿˜æœªåˆ›å»ºï¼Œé‚£ä¹ˆ B ç»„ä»¶èƒ½ç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶å—ï¼Ÿ -> ä¸€èˆ¬æ˜¯ä¸èƒ½çš„ï¼Œé™¤éä½ åšäº†ç‰¹æ®Šå¤„ç†çš„ï¼Œæ¯”å¦‚è€å¸ˆå†™çš„é‚£ä¸ªåº“ EventStoreï¼Œç¬¬ä¸€æ¬¡ç›‘å¬äº‹ä»¶ï¼Œä¼šè‡ªåŠ¨è§¦å‘ä¸€æ¬¡å›è°ƒï¼

ğŸ’¡ï¼špnpm æ˜¯è¶‹åŠ¿å—ï¼Ÿ

ç°åœ¨å¾ˆå¤šé¡¹ç›®åœ¨ç”¨å®ƒï¼Œä½†å˜æˆæ•´ä½“è¶‹åŠ¿è¿˜ä¸å¥½è¯´ï¼Œæ¯•ç«Ÿ npm ä¹Ÿåœ¨æ›´æ–°ï¼Œä¹Ÿå˜å¾—è¶Šæ¥è¶Šå¥½ç”¨äº†

æ€»ä¹‹ï¼Œçœ‹åè¾¹å‘å±•æƒ…å†µå°±å¾—äº†ï¼

ğŸ’¡ï¼šéŸ³è§†é¢‘æ–¹å‘ï¼Ÿ

éŸ³è§†é¢‘æœªæ¥ä¼šè¶Šæ¥è¶Šå¥½ -> ç½‘é€Ÿä¼šè¶Šæ¥è¶Šå¿«ï¼ˆä¸ç®¡æœ‰æ²¡æœ‰ 5G éƒ½è¿™æ ·ï¼‰ï¼Œå†åŠ ä¸Šå…ƒå®‡å®™ï¼Œå…ƒå®‡å®™å¦‚æœç«èµ·æ¥ï¼Œé‚£å®ƒå†…éƒ¨å¯¹éŸ³è§†é¢‘è¿™äº›ä¸œè¥¿ä¹Ÿæ˜¯è¦æ±‚å¾ˆé«˜çš„ï¼ -> VRï¼ˆç›®å‰ VR çœ¼é•œåˆ†è¾¨ç‡ä½ï¼Œä½“éªŒä¸å¥½ï¼Œä½†è¿™ç»ˆå½’æ˜¯æœªæ¥çš„ä¸€ç§è¶‹åŠ¿ï¼Œç›®å‰ä½ æƒ³ä½“éªŒå¥½ç‚¹çš„è¯ï¼Œå¾—è®¾å¤‡å¥½+ç½‘é€Ÿå¿«ï¼‰

ğŸ’¡ï¼šå‰ç«¯åˆ°é«˜çº§äº†ï¼Œæ˜¯ä¸æ˜¯å°±ä¸ä»…é™äºé¡µé¢ä¸šåŠ¡äº†ï¼Ÿ

æ˜¯çš„ -> ä¸šåŠ¡ä½ åšå¤šäº†çš„è¯ï¼Œä½ ä¼šå‘ç°ä¸šåŠ¡éƒ½å·®ä¸å¤šçš„

ğŸ’¡ï¼šbug æ’æŸ¥ï¼Ÿ

ç¼©å°èŒƒå›´ -> å®šä½åˆ°ä»€ä¹ˆæ—¶å€™æƒ…å†µä¸‹ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ -> é’ˆå¯¹æ€§è§£å†³è¿™ä¸ªé—®é¢˜

---

2ï¼‰æŒæ¡è·³è½¬æ­Œæ›²è¯¦æƒ…é¡µ-åŒºåˆ†æ¦œå•

ğŸ’¡ï¼šåšä»€ä¹ˆï¼Ÿ

æŸä¸ªæ’è¡Œæ¦œè¯¦æƒ…é¡µï¼š

![åš](assets/img/2022-03-29-14-35-43.png)

æŸä¸ªæ­Œå•çš„è¯¦æƒ…é¡µï¼š

![åš](assets/img/2022-03-29-14-36-31.png)

ğŸ’¡ï¼šæ€ä¹ˆåšï¼Ÿ

è¿™æ˜¯æˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹ï¼š

![æ€ä¹ˆåš](assets/img/2022-03-29-14-40-57.png)

ğŸ’¡ï¼šå®ç°å®ƒï¼Ÿ

å…ˆæ¥å®Œæˆæ¦œå•çš„è¯¦æƒ…é¡µï¼š

1. è°è¦è·³è½¬ï¼Ÿ -> ã€Œæ›´å¤šã€ã€æ¦œå•æ’è¡Œæ¦œçš„æ•´ä¸ªåŒºåŸŸ
2. åœ¨`pages`æ——ä¸‹ï¼Œåˆ›å»º`detail-songs`é¡µé¢

åœ¨å“ªå„¿å¤„ç†äº‹ä»¶ï¼Ÿ

ç»„ä»¶å—ï¼Ÿ -> ä¸æ˜¯ -> æœ‰ä¸¤ä¸ªã€Œæ›´å¤šã€ï¼Œè¿™ä¸¤ä¸ªæ›´å¤šçš„é€»è¾‘æ˜¯ä¸ä¸€æ ·çš„ -> æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½åœ¨ç»„ä»¶å†…éƒ¨å¤„ç†äº‹ä»¶ï¼Œè€Œæ˜¯è®©ç»„ä»¶æŠŠè¿™ä¸ªäº‹ä»¶å‘é€å‡ºå»

![æ›´å¤š](assets/img/2022-03-29-17-16-04.png)

![äº‹ä»¶å¤„ç†](assets/img/2022-03-29-18-08-50.png)

![å‘é€äº‹ä»¶](assets/img/2022-03-29-17-18-36.png)

![äº‹ä»¶å‘é€](assets/img/2022-03-29-17-20-25.png)

![äº‹ä»¶ç›‘å¬](assets/img/2022-03-29-18-07-27.png)

> ä»¥ä¸Šæ˜¯é’ˆå¯¹ã€Œçƒ­é—¨æ¦œã€çš„ç›‘å¬å¤„ç† -> ä¹Ÿå°±æ˜¯ã€Œæ¨èæ­Œæ›²ã€çš„`æ›´å¤š`

ğŸ’¡ï¼šæ¦œå•çš„äº‹ä»¶ç›‘å¬

![ç›‘å¬æ¦œå•](assets/img/2022-03-29-17-24-32.png)

æœ‰ä¸¤ç§æ–¹æ³•ç›‘å¬ï¼š

1. ç›´æ¥åœ¨è‡ªå®šä¹‰ç»„ä»¶å†™`bindtap`ï¼Œä¸ç”¨åœ¨ç»„ä»¶å†…éƒ¨å†™`this.triggerEvent('click')` -> å†…ç½®ç»„ä»¶ï¼ˆå¦‚`view`ï¼‰å¯ä»¥ç”¨`bindtap`ï¼Œè‡ªå®šä¹‰ç»„ä»¶ä¹Ÿå¯ä»¥ç›´æ¥ç”¨
2. ä½ ä¹Ÿå¯ä»¥åœ¨è‡ªå®šä¹‰ç»„ä»¶çš„`wxml`é‡Œè¾¹çš„`view`æ ¹æ ‡ç­¾ç›‘å¬è¿™ä¸ª`bindtap`äº‹ä»¶ï¼Œæ¯•ç«Ÿè¿™æ˜¯é’ˆå¯¹æ•´ä¸ª Item çš„ç›‘å¬ï¼Œä¸æ˜¯å…·ä½“åˆ°æŸä¸ªå›¾ç‰‡çš„ç›‘å¬ï¼Œç„¶ååœ¨æŠŠäº‹ä»¶`triggerEvent`å‡ºå»

åœ¨è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç¬¬ä¸€ç§ï¼Œå› ä¸ºè¿™ä¸ª`æ›´å¤š`çš„äº‹ä»¶å¤„ç†å‡½æ•°æ˜¯ä¸€æ ·çš„ï¼Œä¸ºäº†æ–¹ä¾¿æ—¥åç»´æŠ¤å’Œä¿®æ”¹ï¼Œæˆ‘ä»¬é€‰æ‹©ç¬¬ä¸€ç§

![å¤„ç†å‡½æ•°](assets/img/2022-03-29-17-33-56.png)

ç”±äºéœ€è¦ä¼ é€’å‚æ•°ï¼Œæˆ‘ä»¬å¯¹åŸå…ˆçš„å¤„ç†å‡½æ•°é‡Œè¾¹çš„é€»è¾‘ï¼Œæå–æˆä¸€ä¸ªå‡½æ•°æ¥è°ƒç”¨ï¼š

![å¤„ç†](assets/img/2022-03-29-18-51-58.png)

è·å–å‚æ•°ï¼š

![å¤„ç†](assets/img/2022-03-29-17-44-14.png)

åœ¨å‚æ•°çš„å¤„ç†æ–¹é¢ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¹‹å‰åœ¨`ranking-store`é‡Œçš„`rankingMap`ï¼š

![rankingMap](assets/img/2022-03-29-17-47-59.png)

> è¿™ç§ç®€å†™æ–¹å¼å¯è¯»æ€§ä¸å¼º -> ä½†å¦‚æœä½ ç†è§£æ¸…æ¥šäº†ï¼Œå¯ä»¥å°‘å†™å¾ˆå¤šä»£ç 

![rankingMap](assets/img/2022-03-29-17-51-46.png)

è·å–è¿™äº›æ•°æ®çš„æ„ä¹‰ï¼š

![è·å–æ•°æ®](assets/img/2022-03-29-17-54-09.png)

> [Demo](https://github.com/ppambler/QQMusic/commit/2375309)

3ï¼‰ç­”ç–‘

ğŸ’¡ï¼šè‡ªå®šä¹‰å±æ€§`data`å¯ä»¥ä¼ å¯¹è±¡å—ï¼Ÿ

å¯ä»¥çš„

å›½å¤–è§†é¢‘èµ·å -> `index`ã€`indez`ã€`indey` -> æ‰€ä»¥è€å¸ˆä¹ æƒ¯å«`idx`ï¼Œè€Œä¸æ˜¯`id`

4ï¼‰æŒæ¡æ­Œæ›²è¯¦æƒ…é¡µ-æ¦œå•æ•°æ®å±•ç¤º

ğŸ’¡ï¼šè¯¦æƒ…é¡µçŸ¥é“æ‹¿ä»€ä¹ˆæ•°æ®åï¼Œé‚£å°±å¾—è·å–è¿™ä¸ªæ•°æ®äº†ï¼Œè·å–å®Œæ•°æ®åï¼Œå°±å¾—å±•ç¤ºæ•°æ®

è·å–æ•°æ®ï¼š

![æ•°æ®è·å–](assets/img/2022-03-29-18-27-24.png)

å±•ç¤ºæ•°æ®ï¼š

1. æŠŠæ•°æ®å­˜æ”¾åˆ°`songInfo`é‡Œè¾¹
2. å®šä¹‰`wxml`ç»“æ„å±•ç¤ºæ•°æ®

ğŸ’¡ï¼šåˆ›å»ºä¸€ä¸ª`song-item-v2`

![song-item-v2](assets/img/2022-03-29-18-33-52.png)

ä¸çŸ¥å±æ€§åä»£è¡¨å“ªäº›æ•°æ®ï¼Ÿ

![æ•°æ®](assets/img/2022-03-29-18-39-28.png)

å…³äºæ ·å¼çš„æ‹·è´ï¼Ÿ

ç”±äºç»å¸¸å°è£…ç»„ä»¶ï¼Œä½ çš„æ ·å¼èµ·åä¸€å®šè¦ç¬¦åˆä½ çš„ä¹ æƒ¯ -> `song-item-v1`å’Œ`song-item-v2`çš„æ ·å¼æœ‰å…±é€šä¹‹å¤„ -> æ ·å¼èµ·åï¼Œä¹Ÿå°±æ˜¯ç»™ç»„ä»¶æ ‡ç­¾æ·»åŠ `class`è¦ä¸€è‡´

ä¼˜åŒ–ï¼šæœ‰äº›æ­Œæ›²æ²¡æœ‰åˆ«å

![åˆ«å](assets/img/2022-03-29-18-47-17.png)

> 01 34 59

> [Demo](https://github.com/ppambler/QQMusic/commit/34ebf96)

ğŸ‘‡ï¼šç‚¹å‡»æ­Œå•çš„åŒºåˆ†

6ï¼‰ç­”ç–‘

ğŸ’¡ï¼šæ³¨å†Œç»„ä»¶æ—¶çš„`index`å¯ä»¥ä¸å†™å—ï¼Ÿ

![æ³¨å†Œç»„ä»¶](assets/img/2022-03-31-17-54-41.png)

ğŸ’¡ï¼šæ¨¡æ‹Ÿçš„å†…å­˜é™åˆ¶

ä¸€èˆ¬æ˜¯ `1024M` -> åœ¨ä½ `setData`æ—¶ï¼Œæœ€ä¸å¥½è¦è¶…è¿‡`1M`ï¼Œè¶…è¿‡`1M`ä¼šæœ‰è­¦å‘Š

7ï¼‰æŒæ¡æ­Œæ›²è¯¦æƒ…é¡µ-æ­Œå•æ•°æ®è·å–å’Œå±•ç¤º

ğŸ’¡ï¼šåšä»€ä¹ˆï¼Ÿ

> æ­Œå•æ•°æ®è·å– -> è·³è½¬ -> å±•ç¤º

![æ­Œå•ç›‘å¬](assets/img/2022-03-31-18-00-28.png)

ç‚¹å‡»æ­Œå•è·³åˆ°æ­Œæ›²è¯¦æƒ…é¡µï¼Œä¹Ÿå°±æ˜¯ç›‘å¬æ­Œå• Itemï¼Œæœ‰ä¸¤ç§å§¿åŠ¿å®Œæˆï¼š

1. ç›´æ¥ç›‘å¬è‡ªå®šä¹‰ç»„ä»¶è¿™ä¸ªåç§°çš„ç‚¹å‡»
2. è¿›å…¥åˆ°è‡ªå®šä¹‰ç»„ä»¶é‡Œè¾¹ï¼Œç›‘å¬å®ƒçš„ä¸€ä¸ªç‚¹å‡»

åœ¨è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç¬¬ä¸€ç§ï¼Œä¹Ÿå°±æ˜¯ç›‘å¬è‡ªå®šä¹‰ç»„ä»¶æ ‡ç­¾çš„ç‚¹å‡»

![ç‚¹å‡»è‡ªå®šä¹‰æ ‡ç­¾](assets/img/2022-03-31-18-46-11.png)

ğŸ’¡ï¼šå¦‚ä½•åŒºåˆ†ç‚¹å‡»çš„æ˜¯å“ªä¸ªæ­Œå•ï¼Ÿ

å¾ˆç®€å• -> ç»„ä»¶æ ‡ç­¾å‘Šè¯‰æˆ‘ä»¬å°±å¾—äº†ï¼Œä¹Ÿå°±æ˜¯æ·»åŠ `data`å±æ€§å‘—

ğŸ’¡ï¼šè·³è½¬ä»£ç éœ€è¦å°è£…å—ï¼Ÿ

æ²¡å¿…è¦ï¼Œä¹‹å‰é‚£ä¸ªç”¨çš„å‚æ•°æ˜¯`ranking`ï¼Œå³ä¾¿ä½ å¯ä»¥åœ¨`utils`é‡Œè¾¹å°è£…æˆä¸€ä¸ªå·¥å…·å‡½æ•°å†å¯¼å…¥è¿›æ¥ï¼Œä½†è¿™ä¹Ÿæ²¡æœ‰å¿…è¦ï¼Œæ¯•ç«Ÿä½ è¿™æ ·åšäº†ï¼Œå°±å¾—åˆ¤æ–­ä¸€ä¸‹å‚æ•°æ‰è¡Œï¼Œè€Œä½ ä¸è¿™æ ·åšçš„ï¼Œæ— éå°±æ˜¯å†™ä¸€è¡Œä»£ç çš„äº‹å„¿ç½¢äº†

![å¤ç”¨ä»£ç ](assets/img/2022-03-31-18-11-28.png)

ğŸ’¡ï¼šæ­Œæ›²è¯¦æƒ…é¡µåŒºåˆ†å‚æ•°ï¼Ÿ

æœ‰ä¸¤ç§å§¿åŠ¿ï¼š

1. éæ­¤å³å½¼ï¼ˆä¸æ˜¯`id`ï¼Œå°±æ˜¯`ranking`ï¼‰ -> æ‰©å±•æ€§å·®ï¼Œå¦‚æœä¹‹åè¿˜éœ€è¦ç”¨å…¶å®ƒå‚æ•°è·³åˆ°è¿™ä¸ªé¡µé¢æ¥å˜ï¼Ÿ -> æ›´ä½•å†µæœ‰å…¶å®ƒéæ­Œå•çš„æ•°æ®ä¹Ÿæ˜¯ç”¨`id`å‘¢ï¼Ÿ -> æ‰€ä»¥è¿™ç§å§¿åŠ¿å¹¶ä¸å¥½
2. å¤šä¼ ä¸€ä¸ªå‚æ•°ç»™æ­Œæ›²è¯¦æƒ…é¡µ -> é€‰æ‹©è¿™ç§

![è·³è½¬](assets/img/2022-03-31-18-16-40.png)

æ­Œæ›²è¯¦æƒ…é¡µçš„åˆ¤æ–­é€»è¾‘ï¼š

![åˆ¤æ–­](assets/img/2022-03-31-18-19-46.png)

`offState`ç»†èŠ‚å¤„ç†ï¼š

![offState](assets/img/2022-03-31-18-21-26.png)

ğŸ’¡ï¼šè·å–æ­Œå•è¯¦æƒ…æ•°æ®ï¼Ÿ

åœ¨`api_music.js`é‡Œè¾¹å°è£…ä¸€ä¸ª`getSongMenuDetail`æ–¹æ³•

æ‹¿åˆ°æ­Œå•æ¡æ•° -> æ²¡æœ‰ç™»å½•çš„æƒ…å†µï¼Œåªæœ‰ 10 æ¡ -> çœŸå®å¼€å‘çš„æƒ…å†µï¼Œè‚¯å®šä¸æ­¢ 10 æ¡

![10 æ¡æ•°æ®](assets/img/2022-03-31-18-26-40.png)

ä¼˜åŒ–ä»£ç ï¼š

![ä¼˜åŒ–](assets/img/2022-03-31-18-56-47.png)

ğŸ’¡ï¼šæ•°æ®æœ‰äº†ï¼Œé‚£å°±å±•ç¤ºæ•°æ®å‘—

å¼€å‘è®¾ç½®ï¼šç¼–è¯‘æ¨¡å¼ -> é€‰æ‹©è¯¦æƒ…é¡µ

![å¼€å‘è®¾ç½®](assets/img/2022-03-31-18-30-06.png)

è¿™æ ·åšçš„å¥½å¤„ï¼šä¸ç”¨æ¯æ¬¡è·³è¿‡æ¥

---

æŠŠè·å–åˆ°çš„æ­Œå•æ•°æ®ä¿å­˜åˆ°`menuInfo` -> ä¹‹å‰ä¿å­˜æ¦œå•æ•°æ®ç”¨çš„æ˜¯`rankingInfo` -> ä½†å®ƒä»¬ä¿©çš„é€»è¾‘æ˜¯ä¸€æ ·ï¼Œæˆ‘ä»¬åªå†™ä¸€ä¸ª`songInfo`å°±å¾—äº†ï¼

ğŸ’¡ï¼šæ ‡é¢˜ä¸åŒ

![æ ‡é¢˜å±•ç¤º](assets/img/2022-03-31-18-36-33.png)

![æ ‡é¢˜åˆ‡æ¢](assets/img/2022-03-31-19-46-56.png)

> [Demo](https://github.com/ppambler/QQMusic/commit/79d04f9)

8ï¼‰ç­”ç–‘

ğŸ’¡ï¼šè€å¸ˆå†™çš„ä»£ç å¾ˆæµç•…

- é€»è¾‘ç†æ¸…äº†ï¼Œå°±å¾ˆæµç•…

è‡ªå·±å†™å°±è’™äº†ï¼Ÿ -> ç»ƒä¹ å¾—å°‘å•Šï¼

å¾ˆå¤šä¸œè¥¿éƒ½éœ€è¦å®è·µï¼Œå®è·µå¤šäº†ï¼Œæ‰ä¼šè®©ä½ çš„ç†è®ºæ¸…æ™°èµ·æ¥

ç†è®ºï¼ˆæ€æƒ³è¿˜æ˜¯ä»€ä¹ˆçš„ï¼‰å¿…é¡»å®è·µï¼Œæ‰èƒ½å˜æˆä½ è‡ªå·±çš„ä¸œè¥¿ -> ä¸ç®¡æ˜¯ç¼–ç¨‹ï¼Œè¿˜æ˜¯åœ¨ç”Ÿæ´»ä¸­éƒ½æ˜¯å¦‚æ­¤â€¦â€¦

çŸ¥è¡Œåˆä¸€â€¦â€¦

ç‹é˜³æ˜çš„æ€æƒ³åˆ°æœ€ååªæœ‰ä¸‰å­—ï¼šè‡´è‰¯çŸ¥

> è‡´è‰¯çŸ¥ï¼Œå³æ˜¯æŒ‡é€šè¿‡è‡ªçœä»¥å®ç°è‰¯çŸ¥ï¼Œæ˜¯æ˜æœå¤§å„’ç‹é˜³æ˜åˆ›ç«‹çš„å¿ƒå­¦çš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€ã€‚â€œè‡´è‰¯çŸ¥â€å­¦è¯´å¯¹åä¸–å„’å®¶ã€æ±‰å­—æ–‡åŒ–åœˆéƒ½æœ‰æ·±è¿œå½±å“ã€‚â€œè‡´è‰¯çŸ¥â€æ˜¯ä¸­å›½å„’ã€é‡Šã€é“ä¸‰å®¶æ€æƒ³èåˆçš„äº§ç‰©

ä¸­å›½å“²å­¦å² -> äº†è§£å“²å­¦ï¼Œè‡³å°‘å¯ä»¥è®©ä½ çŸ¥é“ä¸ºä»€ä¹ˆæ´»ï¼Ÿ -> æå“²å­¦çš„é‚£ä¸€æ‰¹äººéƒ½æ˜¯å¾ˆæœ‰æ™ºæ…§çš„ä¸€æ‰¹äºº

å­¦ç¼–ç¨‹ -> åç†æ€§ -> ç†æ€§æ€è€ƒä¸œè¥¿ï¼Œè€Œä¸æ˜¯å‡­æ„Ÿè§‰ï¼Œå‡­æ„Ÿæ€§å»æ€è€ƒä¸œè¥¿ -> ä¸è¦è®©æƒ…ç»ªæŒæ§æˆ‘ä»¬

äººæœ€å¤§çš„ç—›è‹¦å°±æ˜¯éš¾ä»¥è·¨è¶ŠçŸ¥é“å’Œåšåˆ°çš„é¸¿æ²Ÿâ€¦â€¦ -> ç‹é˜³æ˜çš„çŸ¥è¡Œåˆä¸€

è¦ç†æ€§ä¹Ÿè¦æœ‰æ„Ÿæ€§

å”¯å¿ƒçš„äººåœ¨å”¯ç‰©çš„ä¸–ç•Œé‡Œç”Ÿå­˜ç€â€¦â€¦

â¹ï¼š[å¦‚ä½•ç†è§£ç‹é˜³æ˜æ‰€è¯´çš„ã€Œè‡´è‰¯çŸ¥ã€ï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/27915527)

ğŸ’¡ï¼šæ•²ä»£ç å¦‚ä½•ä¿æŒæ–°é²œæ„Ÿï¼Ÿ

é¦–å…ˆè¦æ„Ÿå…´è¶£

å¦‚æœä½ æ¯å¤©éƒ½åœ¨é‡å¤çš„ä¸€äº›ä¸šåŠ¡ -> è¿™è‚¯å®šä¼šçƒ¦èºçš„ -> å•è°ƒã€é‡å¤æ²¡æœ‰ä»»ä½•è¿›æ­¥çš„ä¸šåŠ¡ -> 5 å¹´åè¿˜åšè¿™äº›äº‹å„¿ï¼Œ10 å¹´åè¿˜åšè¿™äº›äº‹å„¿ï¼Œé‚£ä¹ˆäº”å¹´ç»éªŒï¼Œ10 å¹´ç»éªŒè·Ÿä¸€å¹´ç»éªŒæ˜¯ä¸€æ ·çš„

å»ºè®®ï¼š

1. ç»™å…¬å¸ææ›´é«˜çš„è¦æ±‚ï¼Œåšå…¶å®ƒçš„
2. ç¬¬ä¸€ç‚¹è¾¾ä¸åˆ°ï¼Œé‚£å°±è·³æ§½å‘—

ä¸”ä¸æ—§äººåšæ–°äº‹ï¼Œå‹¿ä¸æ–°äººåšæ—§äº‹

å…¬å¸è§’åº¦ vs ä¸ªäººè§’åº¦

ä¸ªäººä¸€å®šè¦åšå¥½è§„åˆ’ -> äººçš„å·®è·èµ·åˆä¸èµ·çœ¼ï¼Œå‡ å¹´åä½ å°±ä¼šå‘ç°è¿™ä¸ªå·®è·æœ‰å¤šå¤§äº†ï¼Œåƒä¸‡ä¸è¦è·Ÿéšå…¬å¸éšæ³¢é€æµå•Šï¼ˆå…¬å¸è¦ä½ åšå•¥å°±åšå•¥ï¼‰ï¼ä¸€å®šè¦æœ‰è‡ªå·±çš„è§„èŒƒï¼

â¹ï¼š[è¨€è¯­ - å¤šå’Œæ—§äººåšæ–°äº‹ï¼Œå°‘å’Œæ–°äººåšæ—§äº‹ã€‚_å§œç«‹å¨Ÿ](https://www.sohu.com/a/450935167_174959)

ğŸ’¡ï¼šåœ¨å…¬å¸éƒ½å¿«æˆä¸ºä¸€ä¸ªäº§å“äº†

è¿™ä¸ªäº§å“èƒ½æˆé•¿ä¸ºåƒè…¾è®¯è¿™æ ·çš„ï¼Ÿ -> å‡ ä¹ä¸å¯èƒ½ï¼Œç›®å‰ç¯å¢ƒä¸å…è®¸äº†

å¯¹ç”·ç”Ÿè€Œè¨€ï¼ŒæŒæ¡æŠ€æœ¯æ€§ä»·æ¯”æ›´é«˜ï¼Œå½“ç„¶ï¼Œåšæˆå“å¹¶ä¸æ˜¯è¯´ä¸å¥½ï¼

äº§å“æ‡‚æŠ€æœ¯å¾ˆå¥½ï¼Œä¸ç„¶ä¸æ‡‚æŠ€æœ¯çš„äº§å“ï¼Œæ€»ä¼šè¯´ã€Œåˆ«äººéƒ½èƒ½å®ç°ï¼Œä½ æ€ä¹ˆä¸èƒ½å®ç°å‘¢ï¼Ÿã€

å¥³ç”Ÿå¯ä»¥è½¬äº§å“

ğŸ’¡ï¼šcoder

å‰ç«¯ã€Java ç­‰éƒ½èƒ½å¹²

è€å¸ˆåç»­å¼€è¯¾è®² Java -> ä¼šè®² 1 å¹´

ğŸ’¡ï¼šè€å¸ˆçš„ vux3+ts è¯¾ï¼Ÿ

æœ‰åŒå­¦è®¤ä¸ºè€å¸ˆè¿™ä¸ªè¯¾çš„ ts ä¸æ€ä¹ˆæ·±å…¥ -> å…¶å®å°±é‚£ä¹ˆå¤šä¸œè¥¿ï¼Œä½ è¦æ›´å¤æ‚çš„è¯ï¼Œç”¨æ³›å‹å°±å¥½äº†ï¼ -> è¿™è·Ÿå…¶å®ƒé™æ€ç±»å‹è¯­è¨€æ˜¯ä¸€æ ·çš„

ğŸ’¡ï¼šå…³äº CV å·¥ç¨‹å¸ˆçš„è®¨è®º

çœŸæ­£çš„ CV -> Opencv -> å¤´åƒå¤„ç† -> å¾ˆç«

9ï¼‰æŒæ¡æ­Œæ›²è¯¦æƒ…é¡µ-æ­Œå•çš„å¤´éƒ¨å±•ç¤º

ğŸ’¡ï¼šåšä»€ä¹ˆï¼Ÿ

æ­Œæ›²è¯¦æƒ…é¡µ -> å…³äºæ­Œå•å±•ç¤ºçš„æ ‡é¢˜ä¸å¥½çœ‹

![æ­Œæ›²](assets/img/2022-04-01-13-56-31.png)

ğŸ’¡ï¼šå®ç°å®ƒ

---

å®Œæˆå†…å®¹ç»“æ„éƒ¨åˆ†ï¼š

æ¯›ç»ç’ƒï¼šä»€ä¹ˆæ˜¯æ¯›ç»ç’ƒï¼Œå¯¹å‡ºç°åœ¨å…ƒç´ å…¶åçš„èƒŒæ™¯è¿›è¡Œæ¨¡ç³Šä¸åŠé€æ˜å¤„ç†ï¼Œè¢«ç§°ä½œæ¯›ç»ç’ƒæ•ˆæœ

> [ä»€ä¹ˆæ˜¯æ¯›ç»ç’ƒæ•ˆæœï¼ˆGlassmorphismï¼‰ï¼Ÿä»…ä½¿ç”¨ HTML å’Œ CSS æ¥å®ç°](https://chinese.freecodecamp.org/news/glassmorphism-design-effect-with-html-css/)

æ ·å¼ç»†èŠ‚ï¼š

- èƒŒæ™¯å›¾ç‰‡ã€å°é¢å°å›¾ç‰‡ã€å¤´åƒæ˜¯å›ºå®šå¤§å°çš„ï¼Œæ‰€ä»¥é€‰æ‹©`aspectFill`
- icon å›¾ç‰‡ä¸æ˜¯å›ºå®šå¤§å°çš„ï¼Œé€‰æ‹©`widthFix`

æ“ä½œï¼š

![æ“ä½œ](assets/img/2022-04-01-14-15-36.png)

å°è£…ç»„ä»¶ï¼š

![ç»„ä»¶å°è£…](assets/img/2022-04-01-14-21-01.png)

è¿™ä¸ªç»„ä»¶å¤§æ¦‚ç‡ä¸ä¼šå¤ç”¨ï¼Œå½“ç„¶ï¼Œè¿™ä¹Ÿä¸ä¸€å®šå“ˆï¼

åœ¨`components`ç›®å½•åˆ›å»º`song-detail-header`ç»„ä»¶ -> ä¹‹å‰çš„åšæ³•æ˜¯æ”¾åˆ°è¿™ä¸ª`detail-song`é¡µé¢ç›®å½•çš„`cpns`é‡Œè¾¹

---

å®Œæˆå†…å®¹æ ·å¼éƒ¨åˆ†ï¼š

![æ ·å¼å¤„ç†](assets/img/2022-04-01-14-28-40.png)

![æ ·å¼](assets/img/2022-04-01-14-40-42.png)

> [Demo](https://github.com/ppambler/QQMusic/commit/6d28808)

10ï¼‰æŒæ¡æœç´¢é¡µ-æœç´¢æ¡†å’Œçƒ­é—¨æœç´¢å±•ç¤º

ğŸ’¡ï¼šTODOï¼šçƒ­é—¨æ­Œå•çš„ã€Œæ›´å¤šã€è·³è½¬

ğŸ’¡ï¼šæœç´¢é¡µé¢

- é˜²æŠ–èŠ‚æµ
- å¯Œæ–‡æœ¬

æˆ‘ä»¬è¦å®ç°çš„æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2022-04-01-17-24-39.png)

æœç´¢æ¡†ä¾æ—§ç”¨çš„æ˜¯ vant ç»„ä»¶

å…³äºæ ·å¼ï¼š

- æœç´¢æ¡†çš„å·¦å³é—´è·ï¼Œåœ¨é¡µé¢è¿™ä¸ªä½œç”¨åŸŸä¸‹è®¾ç½®
- æŠŠä¹‹å‰ç»™æœç´¢æ¡†çš„æ ·å¼å…¨å±€è®¾ç½®äº†

å…³äºæœç´¢å…³é”®å­—çš„è¯·æ±‚ï¼š

- `api_search.js`
- è·å–æ•°æ®
- å±•ç¤ºæ•°æ®

> [Demo](https://github.com/ppambler/QQMusic/commit/e54cdcb)

ğŸ‘‡ï¼šæœç´¢å»ºè®® -> é˜²æŠ–å¤„ç†

11ï¼‰æŒæ¡æœç´¢é¡µ-æœç´¢å»ºè®®çš„è·å–å’Œå±•ç¤º

ğŸ’¡ï¼šæœç´¢å»ºè®®

è¾“å…¥ä¸€ä¸ª`a`ï¼Œè”æƒ³åˆ°çš„ä¸œè¥¿ -> æ˜¯ç½‘ç»œè¯·æ±‚ç»™çš„ï¼Œå¯ä¸æ˜¯æœ¬åœ°ç»™çš„

æ€ä¹ˆåšï¼Ÿ -> å…ˆå°è£…ç½‘ç»œè¯·æ±‚ï¼Œè¿˜æ˜¯å…ˆå»è·å–ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼Ÿ

å¦‚æœä½ æ€è·¯æ¸…æ™°ï¼Œæ€ä¹ˆåšä¸œè¥¿ï¼Œæ•ˆç‡éƒ½ä¼šå¾ˆé«˜

åœ¨è¿™é‡Œæˆ‘ä»¬å…ˆå°è£…ç½‘ç»œè¯·æ±‚å§ï¼

æ¥å£æ–‡æ¡£ï¼š

![æ–‡æ¡£](assets/img/2022-04-01-18-12-24.png)

![mobile](assets/img/2022-04-01-18-21-01.png)

---

ç›‘å¬æœç´¢æ¡†çš„`bind:change`äº‹ä»¶ -> å¦‚æœç”¨æˆ·æ²¡æœ‰è¾“å…¥å†…å®¹æ˜¯ä¸èƒ½è¿›è¡Œæœç´¢çš„

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2022-04-01-18-17-30.png)

æ•°æ®æ‹¿åˆ°åï¼Œå°±å±•ç¤ºè¿™äº›æ•°æ®

æœç´¢æ¡†æœ‰æ— å†…å®¹ -> çƒ­é—¨æœç´¢å†…å®¹å’Œæœç´¢å»ºè®®æ˜¯äº’æ–¥çš„

> [Demo](https://github.com/ppambler/QQMusic/commit/fc8bfcf)

ä¼˜åŒ–ï¼š

- æœç´¢å…³é”®å­—ä¼šåœ¨æœç´¢ç»“æœçš„ Item é‡Œè¾¹é«˜äº® -> æ¶‰åŠåˆ°å¯Œæ–‡æœ¬
- é˜²æŠ–å¤„ç† -> æ¯”å¦‚ä½ è¾“å…¥ã€Œyhbkã€ -> ä¼šè§¦å‘å››æ¬¡è¯·æ±‚
- enter é”®ä¹Ÿå¯ä»¥å¼€å§‹æœç´¢ï¼Œæœç´¢å»ºè®® Item å¯ç‚¹å‡»

![bug](assets/img/2022-04-01-18-50-43.png)